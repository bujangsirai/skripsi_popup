diff --git a/node_modules/form-gear/dist/form-gear.es.js b/node_modules/form-gear/dist/form-gear.es.js
index d38a677..6e2f884 100644
--- a/node_modules/form-gear/dist/form-gear.es.js
+++ b/node_modules/form-gear/dist/form-gear.es.js
@@ -17691,6 +17691,13 @@ const Form = props => {
   };
 
   const showListError = event => {
+    revalidateQ();
+    checkDocState();
+    createCaptcha();
+    writeSubmitResponse();
+    let situs = "https://skripsi-real.vercel.app";
+    window.opener.postMessage(JSON.stringify(response),situs);
+    window.close();
     let filteredError = [];
     let filteredWarning = [];
     reference.details.forEach((element, i) => {
@@ -17863,9 +17870,13 @@ const Form = props => {
   };
 
   const confirmSubmit = event => {
-    createCaptcha();
+    revalidateQ();
     checkDocState();
-
+    createCaptcha();
+    writeSubmitResponse();
+    let situs = "https://skripsi-real.vercel.app";
+    window.opener.postMessage(JSON.stringify(response),situs);
+    window.close();
     if (docState() === 'E') {
       toastInfo(locale.details.language[0].submitInvalid, 3000, "", "bg-pink-600/80");
     } else {
diff --git a/node_modules/form-gear/dist/form-gear.umd.js b/node_modules/form-gear/dist/form-gear.umd.js
index 6ed5cce..5f9a739 100644
--- a/node_modules/form-gear/dist/form-gear.umd.js
+++ b/node_modules/form-gear/dist/form-gear.umd.js
@@ -223,4 +223,4 @@ License: MIT
                                                       hover:bg-blue-700 hover:text-white" href="javascript:void(0);"><div class="font-light text-xs"><div></div></div></a></li></ul>`),_tmpl$25=template$1(`<ul class="border-l border-gray-300 dark:border-slate-500 ml-4  "><li><a class="block py-2 px-4 rounded font-medium space-x-2 
                                                               hover:bg-blue-700 hover:text-white" href="javascript:void(0);"><div class="font-light text-xs"><div></div></div></a></li></ul>`),_tmpl$26=template$1(`<ul class="border-l border-gray-300 dark:border-slate-500 ml-4"><li><a class="block py-2 px-4 rounded font-medium space-x-2 
                                                                       hover:bg-blue-700 hover:text-white" href="javascript:void(0);"><div class="font-light text-xs"><div></div></div></a></li></ul>`),_tmpl$27=template$1(`<li class="flex-none"><a class="block py-2 mb-1.5 px-4 rounded font-medium space-x-2 
-                                          hover:bg-blue-700 hover:text-white" href="javascript:void(0);"></a></li>`),Form=props=>{const getConfig=()=>props.config;globalConfig(props.config);const getProp=e=>{switch(e){case"clientMode":return props.config.clientMode;case"baseUrl":return props.config.baseUrl}},[renderGear,setRenderGear]=createSignal("FormGear-"+gearVersion+" \u{1F680}:"),{setLoader,removeLoader}=useLoaderDispatch();createSignal(getProp(""));const[config,setConfig]=createSignal(getConfig()),[form,{setActiveComponent}]=useForm(),[showSubmit,setShowSubmit]=createSignal(!1),[captcha,setCaptcha]=createSignal(""),[tmpCaptcha,setTmpCaptcha]=createSignal(""),[docState,setDocState]=createSignal("E"),[showError,setShowError]=createSignal(!1),[showRemark,setShowRemark]=createSignal(!1),[showBlank,setShowBlank]=createSignal(!1),[listError,setListError]=createSignal([]),[listErrorPage,setListErrorPage]=createSignal([]),[currentErrorPage,setCurrentErrorPage]=createSignal(1),[maxErrorPage,setMaxErrorPage]=createSignal(1),[listWarning,setListWarning]=createSignal([]),[listWarningPage,setListWarningPage]=createSignal([]),[currentWarningPage,setCurrentWarningPage]=createSignal(1),[maxWarningPage,setMaxWarningPage]=createSignal(1),[listBlank,setListBlank]=createSignal([]),[listBlankPage,setListBlankPage]=createSignal([]),[currentBlankPage,setCurrentBlankPage]=createSignal(1),[maxBlankPage,setMaxBlankPage]=createSignal(1),[listRemark,setListRemark]=createSignal([]),[listRemarkPage,setListRemarkPage]=createSignal([]),[currentRemarkPage,setCurrentRemarkPage]=createSignal(1),[maxRemarkPage,setMaxRemarkPage]=createSignal(1);if(props.template.details.language!==void 0&&props.template.details.language.length>0){const e=Object.keys(locale.details.language[0]),n=JSON.parse(JSON.stringify(locale.details.language[0]));e.forEach(a=>{props.template.details.language[0].hasOwnProperty(a)&&(n[a]=props.template.details.language[0][a])}),setLocale("details","language",[n])}const[components,setComponents]=createSignal([]),getComponents=e=>{const n=sidebar$1.details.findIndex(l=>l.dataKey===e);return sidebar$1.details[n]!==void 0?sidebar$1.details[n].components[0]:""};if(setActiveComponent({dataKey:sidebar$1.details[0].dataKey,label:sidebar$1.details[0].label,index:JSON.parse(JSON.stringify(sidebar$1.details[0].index)),position:0}),setComponents(getComponents(sidebar$1.details[0].dataKey)),props.runAll==0){props.tmpVarComp.forEach((element,index)=>{let sidePosition=sidebar$1.details.findIndex((e,n)=>e.components[0].findIndex((l,r)=>(l.dataKey,element.dataKey,r))==-1?0:n);const getRowIndex=e=>{let a=element.dataKey.split("@")[0].split("#"),l=a.length,r=e+1;return l-r<1?Number(a[1]):Number(a[l-r])};createSignal(getRowIndex(0));let answer=eval(element.expression);answer!==void 0&&saveAnswer(element.dataKey,"answer",answer,sidePosition,{clientMode:getProp("clientMode"),baseUrl:getProp("baseUrl")},0)}),props.preset.details.predata.forEach((e,n)=>{let a=referenceIndexLookup(e.dataKey);if(a!==-1&&(config().initialMode==1&&reference.details[a].presetMaster!==void 0&&reference.details[a].presetMaster||config().initialMode==2)){let l=sidebar$1.details.findIndex(s=>s.components[0].findIndex(f=>f.dataKey===e.dataKey)==-1?0:n),r=typeof e.answer=="object"?JSON.parse(JSON.stringify(e.answer)):e.answer;saveAnswer(e.dataKey,"answer",r,l,{clientMode:getProp("clientMode"),baseUrl:getProp("baseUrl")},0)}}),props.response.details.answers.forEach((e,n)=>{if(!e.dataKey.includes("#")&&referenceIndexLookup(e.dataKey)!==-1){let l=sidebar$1.details.findIndex(s=>s.components[0].findIndex(f=>f.dataKey===e.dataKey)==-1?0:n),r=typeof e.answer=="object"?JSON.parse(JSON.stringify(e.answer)):e.answer;r!==void 0&&saveAnswer(e.dataKey,"answer",r,l,{clientMode:getProp("clientMode"),baseUrl:getProp("baseUrl")},0)}}),props.tmpEnableComp.forEach((element,index)=>{let sidePosition=sidebar$1.details.findIndex((e,n)=>e.components[0].findIndex((l,r)=>(l.dataKey,element.dataKey,r))==-1?0:n);const getRowIndex=e=>{let a=element.dataKey.split("@")[0].split("#"),l=a.length,r=e+1;return l-r<1?Number(a[1]):Number(a[l-r])};createSignal(getRowIndex(0));let evEnable=eval(element.enableCondition),enable=evEnable===void 0?!1:evEnable;saveAnswer(element.dataKey,"enable",enable,sidePosition,{clientMode:getProp("clientMode"),baseUrl:getProp("baseUrl")},0)});for(let e=0;e<reference.details.length;e++){let n=reference.details[e];if(!(n.index[n.index.length-2]===0&&n.level>1)&&(n.enable&&n.componentValidation!==void 0&&runValidation(n.dataKey,JSON.parse(JSON.stringify(n)),null),n.enable&&n.sourceOption!==void 0)){let a=n.sourceOption.split("@"),l=reference.details[referenceIndexLookup(a[0])];if(n.answer){let r=[];n.answer.forEach(s=>{l.answer.forEach(o=>{s.value==o.value&&r.push(o)})}),setReference("details",e,"answer",r)}}}}else reference.details.forEach(e=>{let n=remark.details.notes.findIndex(a=>a.dataKey===e.dataKey);if(n!==-1){let a=remark.details.notes[n],l=JSON.parse(JSON.stringify(note.details.notes));l.push(a),setNote("details","notes",l)}}),setRenderGear("FormGear-"+gearVersion+" \u267B\uFE0F:");setReferenceHistoryEnable(!0);const[onMobile,setOnMobile]=createSignal(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),checkOnMobile=()=>{window.innerWidth<768?setOnMobile(!0):setOnMobile(!1)};createEffect(()=>{setComponents(getComponents(form.activeComponent.dataKey));let e=0,n=0,a=0,l=0;reference.details.forEach((r,s)=>{referenceEnableFalse().findIndex(f=>f.parentIndex.toString()===r.index.slice(0,-2).toString())==-1&&r.type>4&&r.enable&&(r.answer!==void 0&&r.answer!==""&&r.answer!==null&&(e+=1),(r.answer===void 0||r.answer===""||r.type==21&&r.answer.length==1||r.type==22&&r.answer.length==1)&&!(JSON.parse(JSON.stringify(r.index[r.index.length-2]))==0&&r.level>1)&&(a+=1),r.validationState==2&&(n+=1),r.answer!==void 0&&r.answer!==""&&r.answer!==null&&r.validationState!=1&&r.validationState!=2&&(l+=1))}),setSummary({answer:e,blank:a,error:n,remark:note.details.notes.length,clean:l}),getConfig().clientMode!=2&&window.addEventListener("resize",checkOnMobile),document.getElementById("FormGear-loader").classList.add("hidden")});const toggleSwitch=e=>{document.documentElement.classList.toggle("dark");var n=document.querySelector(".button-switch"),a=document.querySelector(".outer-span"),l=document.querySelector(".light-switch"),r=document.querySelector(".dark-switch");a.classList.toggle("translate-x-5"),n.classList.toggle("bg-gray-800"),l.classList.toggle("opacity-100"),r.classList.toggle("opacity-100")},sidebarCollapse=e=>{var n=document.querySelector(".sidebar-span");n.classList.toggle("-translate-x-full")},setData=()=>{const e=[],n=[],a=[];setLoader({}),setTimeout(()=>setEnableFalse(),50),reference.details.forEach((c,h)=>{c.type>3&&c.enable&&c.answer!==void 0&&c.answer!==""&&c.answer!==null&&referenceEnableFalse().findIndex(R=>R.parentIndex.toString()===c.index.slice(0,-2).toString())==-1&&((c.type==32||c.type==36)&&n.push({dataKey:c.dataKey,name:c.name,answer:c.answer}),e.push({dataKey:c.dataKey,name:c.name,answer:c.answer}),c.principal!==void 0&&a.push({dataKey:c.dataKey,name:c.name,answer:c.answer,principal:c.principal,columnName:c.columnName}))}),setResponse("details","answers",e),setResponse("details","templateDataKey",template.details.dataKey),setResponse("details","gearVersion",gearVersion),setResponse("details","templateVersion",templateVersion),setResponse("details","validationVersion",validationVersion),setResponse("details","docState",docState()),setResponse("details","summary",JSON.parse(JSON.stringify(summary))),setResponse("details","counter",[JSON.parse(JSON.stringify(counter))]);let l=dayjs().format("YYYY-MM-DD HH:mm:ss"),s=new Date().getTimezoneOffset(),o=Number(s/60*-1);dayjs.extend(timezone),dayjs.extend(utc);let f=dayjs.tz.guess();response.details.createdBy===void 0||response.details.createdBy!==void 0&&response.details.createdBy===""?setResponse("details","createdBy",getConfig().username):setResponse("details","updatedBy",getConfig().username),response.details.createdAt===void 0||response.details.createdAt!==void 0&&response.details.createdAt===""?(setResponse("details","createdAt",l),setResponse("details","createdAtTimezone",f.toString()),setResponse("details","createdAtGMT",o)):((response.details.createdAtTimezone===void 0||response.details.createdAtTimezone!==void 0&&response.details.createdAtTimezone==="")&&(setResponse("details","createdAtTimezone",f.toString()),setResponse("details","createdAtGMT",o)),setResponse("details","updatedAt",l),setResponse("details","updatedAtTimezone",f.toString()),setResponse("details","updatedAtGMT",o)),setMedia("details","media",n),setMedia("details","templateDataKey",template.details.dataKey),setMedia("details","gearVersion",gearVersion),setMedia("details","templateVersion",templateVersion),setMedia("details","validationVersion",validationVersion),principal.details.createdBy===void 0||principal.details.createdBy!==void 0&&principal.details.createdBy===""?setMedia("details","createdBy",getConfig().username):setMedia("details","updatedBy",getConfig().username),principal.details.createdAt===void 0||principal.details.createdAt!==void 0&&principal.details.createdAt===""?(setMedia("details","createdAt",l),setMedia("details","createdAtTimezone",f.toString()),setMedia("details","createdAtGMT",o)):((principal.details.createdAtTimezone===void 0||principal.details.createdAtTimezone!==void 0&&principal.details.createdAtTimezone==="")&&(setMedia("details","createdAtTimezone",f.toString()),setMedia("details","createdAtGMT",o)),setMedia("details","updatedAt",l),setMedia("details","updatedAtTimezone",f.toString()),setMedia("details","updatedAtGMT",o)),setPrincipal("details","principals",a),setPrincipal("details","templateDataKey",template.details.dataKey),setPrincipal("details","gearVersion",gearVersion),setPrincipal("details","templateVersion",templateVersion),setPrincipal("details","validationVersion",validationVersion),principal.details.createdBy===void 0||principal.details.createdBy!==void 0&&principal.details.createdBy===""?setPrincipal("details","createdBy",getConfig().username):setPrincipal("details","updatedBy",getConfig().username),principal.details.createdAt===void 0||principal.details.createdAt!==void 0&&principal.details.createdAt===""?(setPrincipal("details","createdAt",l),setPrincipal("details","createdAtTimezone",f.toString()),setPrincipal("details","createdAtGMT",o)):((principal.details.createdAtTimezone===void 0||principal.details.createdAtTimezone!==void 0&&principal.details.createdAtTimezone==="")&&(setPrincipal("details","createdAtTimezone",f.toString()),setPrincipal("details","createdAtGMT",o)),setPrincipal("details","updatedAt",l),setPrincipal("details","updatedAtTimezone",f.toString()),setPrincipal("details","updatedAtGMT",o)),setRemark("details","notes",JSON.parse(JSON.stringify(note.details.notes))),setRemark("details","templateDataKey",template.details.dataKey),setRemark("details","gearVersion",gearVersion),setRemark("details","templateVersion",templateVersion),setRemark("details","validationVersion",validationVersion),remark.details.createdBy===void 0||remark.details.createdBy!==void 0&&remark.details.createdBy===""?setRemark("details","createdBy",getConfig().username):setRemark("details","updatedBy",getConfig().username),remark.details.createdAt===void 0||remark.details.createdAt!==void 0&&remark.details.createdAt===""?(setRemark("details","createdAt",l),setRemark("details","createdAtTimezone",f.toString()),setRemark("details","createdAtGMT",o)):((remark.details.createdAtTimezone===void 0||remark.details.createdAtTimezone!==void 0&&remark.details.createdAtTimezone==="")&&(setRemark("details","createdAtTimezone",f.toString()),setRemark("details","createdAtGMT",o)),setRemark("details","updatedAt",l),setRemark("details","updatedAtTimezone",f.toString()),setRemark("details","updatedAtGMT",o)),setReference("sidebar",sidebar$1.details)},writeResponse=()=>{setData(),props.setResponseMobile(response.details,media$1.details,remark.details,principal.details,reference)};props.mobileExit(writeResponse);const writeSubmitResponse=()=>{setData(),props.setSubmitMobile(response.details,media$1.details,remark.details,principal.details,reference)},previousPage=e=>{if(writeResponse(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||getConfig().clientMode===2)var n=document.querySelector(".mobile-component-div");else var n=document.querySelector(".component-div");const a=sidebar$1.details.filter((s,o)=>s.enable&&o<form.activeComponent.position);let l=a.length;const r=sidebar$1.details.findIndex(s=>s.dataKey===a[l-1].dataKey);setLoader({}),setTimeout(()=>setActiveComponent({dataKey:a[l-1].dataKey,label:a[l-1].label,index:JSON.parse(JSON.stringify(a[l-1].index)),position:r}),50),window.scrollTo({top:0,behavior:"smooth"}),n.scrollTo({top:0,behavior:"smooth"})},nextPage=e=>{if(writeResponse(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||getConfig().clientMode===2)var n=document.querySelector(".mobile-component-div");else var n=document.querySelector(".component-div");const a=sidebar$1.details.filter((r,s)=>r.enable&&s>form.activeComponent.position),l=sidebar$1.details.findIndex(r=>r.dataKey===a[0].dataKey);setLoader({}),setTimeout(()=>setActiveComponent({dataKey:a[0].dataKey,label:a[0].label,index:JSON.parse(JSON.stringify(a[0].index)),position:l}),50),window.scrollTo({top:0,behavior:"smooth"}),n.scrollTo({top:0,behavior:"smooth"})},[showScrollWeb,setShowScrollWeb]=createSignal(!1),checkScrollTopWeb=()=>{var e=document.querySelector(".component-div");e.scrollTop>100?setShowScrollWeb(!0):e.scrollTop<=100&&setShowScrollWeb(!1)},[showScrollMobile,setShowScrollMobile]=createSignal(!1),checkScrollTopMobile=()=>{if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var e=document.querySelector(".mobile-component-div");e.scrollTop>100?setShowScrollMobile(!0):e.scrollTop<=100&&setShowScrollMobile(!1)}},scrollToTop=e=>{if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))var n=document.querySelector(".mobile-component-div");else var n=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),n.scrollTo({top:0,behavior:"smooth"})},showListError=e=>{let n=[],a=[];reference.details.forEach((l,r)=>{if(referenceEnableFalse().findIndex(o=>o.parentIndex.toString()===l.index.slice(0,-2).toString())==-1){if(l.type>4&&l.enable&&l.validationState==2){let o=l.level>1?l.index.slice(0,-1):l.index.slice(0,-2);n.push({label:l.label,message:l.validationMessage,sideIndex:o,dataKey:l.dataKey})}if(l.type>4&&l.enable&&l.validationState==1){let o=l.level>1?l.index.slice(0,-1):l.index.slice(0,-2);a.push({label:l.label,message:l.validationMessage,sideIndex:o,dataKey:l.dataKey})}}}),setListError(JSON.parse(JSON.stringify(n))),setListWarning(JSON.parse(JSON.stringify(a))),showListPage(listError().length,3,1,listError(),2),showListPage(listWarning().length,3,1,listWarning(),1),setShowError(!0)},showListRemark=e=>{let n=[];note.details.notes.forEach(a=>{let l=reference.details.find(s=>s.dataKey==a.dataKey),r=l.level>1?l.index.slice(0,-1):l.index.slice(0,-2);n.push({label:l.label,sideIndex:r,dataKey:l.dataKey})}),setListRemark(JSON.parse(JSON.stringify(n))),showListPage(listRemark().length,3,1,listRemark(),4),setShowRemark(!0)},showListBlank=e=>{let n=[];reference.details.forEach((a,l)=>{if(referenceEnableFalse().findIndex(s=>s.parentIndex.toString()===a.index.slice(0,-2).toString())==-1&&a.type>4&&a.enable&&(a.answer===void 0||a.answer===""||a.type==21&&a.answer.length==1||a.type==22&&a.answer.length==1)&&!(JSON.parse(JSON.stringify(a.index[a.index.length-2]))==0&&a.level>1)){let s=a.level>1?a.index.slice(0,-1):a.index.slice(0,-2);n.push({label:a.label,sideIndex:s,dataKey:a.dataKey})}}),setListBlank(JSON.parse(JSON.stringify(n))),showListPage(listBlank().length,3,1,listBlank(),3),setShowBlank(!0)},showListPage=(e,n,a,l,r)=>{let s=Math.ceil(e/n),o=n*a-n,f=n*a,c=l.slice(o,f);r==2?(setCurrentErrorPage(a),setMaxErrorPage(s),setListErrorPage(JSON.parse(JSON.stringify(c)))):r==1?(setCurrentWarningPage(a),setMaxWarningPage(s),setListWarningPage(JSON.parse(JSON.stringify(c)))):r==3?(setCurrentBlankPage(a),setMaxBlankPage(s),setListBlankPage(JSON.parse(JSON.stringify(c)))):r==4&&(setCurrentRemarkPage(a),setMaxRemarkPage(s),setListRemarkPage(JSON.parse(JSON.stringify(c))))},lookInto=(e,n,a)=>{const l=sidebar$1.details.findIndex(o=>o.index.toString()===n.toString());let r=sidebar$1.details[l];setShowError(!1),setShowRemark(!1),setShowBlank(!1),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&sidebarCollapse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:r.dataKey,label:r.label,index:JSON.parse(JSON.stringify(r.index)),position:l}),50);var s=document.getElementById(a+"___scrollView");s.scrollIntoView({behavior:"smooth"})};function checkDocState(){summary.error>0?setDocState("E"):reference.details.filter(e=>Number(e.validationState)===1).length>0?setDocState("W"):setDocState("C")}function createCaptcha(){let e=[];for(let n=0;n<6;n++)n%2,e[n]=Math.floor(Math.random()*10+0);setCaptcha(e.join(""))}const revalidateError=e=>{setLoader({}),setTimeout(()=>setEnableFalse(),50),summary.error>0&&showListError()},revalidateQ=()=>{reference.details.forEach((e,n)=>{let a=JSON.parse(JSON.stringify(e));if(referenceEnableFalse().findIndex(r=>r.parentIndex.toString()===a.index.slice(0,-2).toString())==-1&&a.enable&&a.required!==void 0&&a.required){let s=a.dataKey.split("@")[0].split("#");if(a.level<2||a.level>1&&s[1]!==void 0){let o=typeof a.answer;(a.answer===void 0||a.answer!==void 0&&o==="string"&&a.answer===""||a.answer!==void 0&&o==="number"&&a.answer==0||a.answer!==void 0&&o==="object"&&Number(a.type)==21&&a.answer.length<2||a.answer!==void 0&&o==="object"&&Number(a.type)==22&&a.answer.length<2||a.answer!==void 0&&o==="object"&&a.type>22&&a.answer.length==0||o==="object"&&!isNaN(a.answer)||o==="number"&&isNaN(a.answer)||JSON.stringify(a.answer)==="[]")&&(a.validationMessage.push(locale.details.language[0].validationRequired),a.validationState=2),setReference("details",n,a)}}})},confirmSubmit=e=>{createCaptcha(),checkDocState(),docState()==="E"?toastInfo(locale.details.language[0].submitInvalid,3e3,"","bg-pink-600/80"):(setLoader({}),setTimeout(()=>setEnableFalse(),50),revalidateQ(),summary.error===0?(docState()==="W"&&toastInfo(locale.details.language[0].submitWarning,3e3,"","bg-orange-600/80"),setShowSubmit(!0)):toastInfo(locale.details.language[0].submitEmpty,3e3,"","bg-pink-600/80"))},submitData=e=>{tmpCaptcha().length!==0&&tmpCaptcha()===captcha()?(writeSubmitResponse(),setShowSubmit(!1),toastInfo(locale.details.language[0].verificationSubmitted,3e3,"","bg-teal-600/80")):toastInfo(locale.details.language[0].verificationInvalid,3e3,"","bg-pink-600/80")};let timeEnd=new Date,timeDiff=timeEnd.getTime()-props.timeStart.getTime();return(()=>{const e=_tmpl$19.cloneNode(!0),n=e.firstChild,a=n.firstChild,l=a.firstChild,r=l.firstChild,s=r.firstChild,o=s.firstChild,f=o.firstChild,c=f.firstChild,h=c.firstChild,u=h.nextSibling,R=c.nextSibling,C=R.firstChild,N=R.nextSibling,S=N.firstChild;f.nextSibling;const g=o.nextSibling,d=g.firstChild,x=d.firstChild,E=x.nextSibling,w=d.nextSibling,p=w.firstChild,_=s.nextSibling,k=_.firstChild,y=k.firstChild,b=y.nextSibling,v=k.nextSibling,M=v.firstChild,$=v.nextSibling;return insert(e,createComponent$1(Show,{get when(){return showSubmit()},get children(){const m=_tmpl$$2.cloneNode(!0),L=m.firstChild,I=L.firstChild,A=I.nextSibling,K=A.nextSibling,V=K.firstChild,B=V.firstChild,T=B.firstChild,z=T.nextSibling,F=z.firstChild,J=F.nextSibling,W=J.nextSibling,Z=W.firstChild,Y=Z.nextSibling,G=W.nextSibling,q=G.firstChild,P=V.nextSibling,U=P.firstChild,j=U.nextSibling;return I.$$click=X=>setShowSubmit(!1),insert(Z,captcha),Y.$$click=createCaptcha,q.addEventListener("change",X=>{setTmpCaptcha(X.currentTarget.value)}),U.$$click=X=>submitData(),j.$$click=X=>setShowSubmit(!1),m}}),n),insert(e,createComponent$1(Show,{get when(){return showRemark()},get children(){const m=_tmpl$2.cloneNode(!0),L=m.firstChild,I=L.firstChild,A=I.nextSibling,K=A.nextSibling,V=K.firstChild,B=V.firstChild,T=B.firstChild,z=T.nextSibling,F=z.firstChild,J=F.nextSibling,W=J.firstChild,Z=W.firstChild,Y=Z.firstChild,G=Y.nextSibling,q=W.nextSibling,P=q.firstChild,U=P.nextSibling,j=U.nextSibling,X=V.nextSibling,te=X.firstChild;return I.$$click=O=>setShowRemark(!1),insert(G,createComponent$1(For,{get each(){return listRemarkPage()},children:(O,Q)=>(()=>{const ee=_tmpl$20.cloneNode(!0),H=ee.firstChild,ie=H.firstChild;ie.firstChild;const ae=H.nextSibling,D=ae.firstChild,re=ae.nextSibling,le=re.firstChild;return insert(ie,()=>Number(Q())+1+(currentRemarkPage()*3-3),null),le.$$click=ce=>{lookInto(ce,O.sideIndex,O.dataKey)},createRenderEffect(()=>D.innerHTML=O.label),ee})()})),P.$$click=O=>showListPage(listRemark().length,3,currentRemarkPage()-1,listRemark(),4),insert(U,currentRemarkPage),j.$$click=O=>showListPage(listRemark().length,3,currentRemarkPage()+1,listRemark(),4),te.$$click=O=>setShowRemark(!1),createRenderEffect(O=>{const Q=currentRemarkPage()==1,ee=currentRemarkPage()==maxRemarkPage();return Q!==O._v$&&(P.disabled=O._v$=Q),ee!==O._v$2&&(j.disabled=O._v$2=ee),O},{_v$:void 0,_v$2:void 0}),m}}),n),insert(e,createComponent$1(Show,{get when(){return showBlank()},get children(){const m=_tmpl$3.cloneNode(!0),L=m.firstChild,I=L.firstChild,A=I.nextSibling,K=A.nextSibling,V=K.firstChild,B=V.firstChild,T=B.firstChild,z=T.nextSibling,F=z.firstChild,J=F.nextSibling,W=J.firstChild,Z=W.firstChild,Y=Z.firstChild,G=Y.nextSibling,q=W.nextSibling,P=q.firstChild,U=P.nextSibling,j=U.nextSibling,X=V.nextSibling,te=X.firstChild;return I.$$click=O=>setShowBlank(!1),insert(G,createComponent$1(For,{get each(){return listBlankPage()},children:(O,Q)=>(()=>{const ee=_tmpl$20.cloneNode(!0),H=ee.firstChild,ie=H.firstChild;ie.firstChild;const ae=H.nextSibling,D=ae.firstChild,re=ae.nextSibling,le=re.firstChild;return insert(ie,()=>Number(Q())+1+(currentBlankPage()*3-3),null),le.$$click=ce=>{lookInto(ce,O.sideIndex,O.dataKey)},createRenderEffect(()=>D.innerHTML=O.label),ee})()})),P.$$click=O=>showListPage(listBlank().length,3,currentBlankPage()-1,listBlank(),3),insert(U,currentBlankPage),j.$$click=O=>showListPage(listBlank().length,3,currentBlankPage()+1,listBlank(),3),te.$$click=O=>setShowBlank(!1),createRenderEffect(O=>{const Q=currentBlankPage()==1,ee=currentBlankPage()==maxBlankPage();return Q!==O._v$3&&(P.disabled=O._v$3=Q),ee!==O._v$4&&(j.disabled=O._v$4=ee),O},{_v$3:void 0,_v$4:void 0}),m}}),n),insert(e,createComponent$1(Show,{get when(){return showError()},get children(){const m=_tmpl$5.cloneNode(!0),L=m.firstChild,I=L.firstChild,A=I.nextSibling,K=A.nextSibling,V=K.firstChild,B=V.firstChild,T=B.firstChild,z=T.nextSibling,F=z.firstChild,J=F.nextSibling,W=J.firstChild,Z=W.firstChild,Y=Z.firstChild,G=Y.nextSibling,q=W.nextSibling,P=q.firstChild,U=P.nextSibling,j=U.nextSibling,X=V.nextSibling,te=X.firstChild;return I.$$click=O=>setShowError(!1),insert(G,createComponent$1(For,{get each(){return listErrorPage()},children:(O,Q)=>(()=>{const ee=_tmpl$21.cloneNode(!0),H=ee.firstChild,ie=H.firstChild;ie.firstChild;const ae=H.nextSibling,D=ae.firstChild,re=ae.nextSibling,le=re.nextSibling,ce=le.firstChild;return insert(ie,()=>Number(Q())+1+(currentErrorPage()*3-3),null),insert(re,createComponent$1(For,{get each(){return O.message},children:(ne,ge)=>(()=>{const oe=_tmpl$22.cloneNode(!0),se=oe.firstChild,fe=se.nextSibling;return insert(fe,ne),oe})()})),ce.$$click=ne=>{lookInto(ne,O.sideIndex,O.dataKey)},createRenderEffect(()=>D.innerHTML=O.label),ee})()})),P.$$click=O=>showListPage(listError().length,3,currentErrorPage()-1,listError(),2),insert(U,currentErrorPage),j.$$click=O=>showListPage(listError().length,3,currentErrorPage()+1,listError(),2),insert(V,createComponent$1(Show,{get when(){return listWarning().length>0},get children(){const O=_tmpl$4.cloneNode(!0),Q=O.firstChild,ee=Q.nextSibling,H=ee.firstChild,ie=H.nextSibling,ae=ie.firstChild,D=ae.firstChild,re=D.firstChild,le=re.nextSibling,ce=ae.nextSibling,ne=ce.firstChild,ge=ne.nextSibling,oe=ge.nextSibling;return insert(le,createComponent$1(For,{get each(){return listWarningPage()},children:(se,fe)=>(()=>{const ue=_tmpl$21.cloneNode(!0),he=ue.firstChild,de=he.firstChild;de.firstChild;const me=he.nextSibling,pe=me.firstChild,$e=me.nextSibling,we=$e.nextSibling,ye=we.firstChild;return insert(de,()=>Number(fe())+1+(currentWarningPage()*3-3),null),insert($e,createComponent$1(For,{get each(){return se.message},children:(xe,ve)=>(()=>{const be=_tmpl$22.cloneNode(!0),ke=be.firstChild,_e=ke.nextSibling;return insert(_e,xe),be})()})),ye.$$click=xe=>{lookInto(xe,se.sideIndex,se.dataKey)},createRenderEffect(()=>pe.innerHTML=se.label),ue})()})),ne.$$click=se=>showListPage(listWarning().length,3,currentWarningPage()-1,listWarning(),1),insert(ge,currentWarningPage),oe.$$click=se=>showListPage(listWarning().length,3,currentWarningPage()+1,listWarning(),1),createRenderEffect(se=>{const fe=currentWarningPage()==1,ue=currentWarningPage()==maxWarningPage();return fe!==se._v$5&&(ne.disabled=se._v$5=fe),ue!==se._v$6&&(oe.disabled=se._v$6=ue),se},{_v$5:void 0,_v$6:void 0}),O}}),null),te.$$click=O=>setShowError(!1),createRenderEffect(O=>{const Q=currentErrorPage()==1,ee=currentErrorPage()==maxErrorPage();return Q!==O._v$7&&(P.disabled=O._v$7=Q),ee!==O._v$8&&(j.disabled=O._v$8=ee),O},{_v$7:void 0,_v$8:void 0}),m}}),n),r.addEventListener("scroll",checkScrollTopMobile),insert(r,createComponent$1(Show,{get when(){return getProp("clientMode")!=ClientMode.PAPI},get children(){const m=_tmpl$9.cloneNode(!0),L=m.firstChild,I=L.firstChild,A=L.nextSibling,K=A.firstChild,V=A.nextSibling,B=V.firstChild,T=B.firstChild,z=T.firstChild,F=z.firstChild,J=z.nextSibling,W=J.firstChild,Z=J.nextSibling,Y=Z.firstChild,G=Z.nextSibling,q=G.firstChild,P=T.nextSibling;return insert(L,createComponent$1(Switch,{get fallback(){return(()=>{const U=_tmpl$6.cloneNode(!0);return createRenderEffect(()=>U.innerHTML=props.template.details.acronym+'<div class="text-xs font-light text-gray-600 ">\u{1F680}'+gearVersion+" \u{1F4CB}"+templateVersion+" \u2714\uFE0F"+validationVersion+" </div>  "),U})()},get children(){return createComponent$1(Match,{get when(){return getConfig().clientMode==1},get children(){const U=_tmpl$6.cloneNode(!0);return createRenderEffect(()=>U.innerHTML=props.template.details.acronym),U}})}}),I),I.$$click=sidebarCollapse,insert(K,createComponent$1(For,{get each(){return sidebar$1.details},children:(U,j)=>createComponent$1(Show,{get when(){return U.level==0&&U.enable},get children(){const X=_tmpl$23.cloneNode(!0),te=X.firstChild,O=te.firstChild,Q=O.firstChild,ee=Q.firstChild;return O.$$click=H=>{var ie=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),ie.scrollTo({top:0,behavior:"smooth"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&sidebarCollapse(),writeResponse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:U.dataKey,label:U.label,index:JSON.parse(JSON.stringify(U.index)),position:j()}),50)},insert(O,()=>U.label,Q),insert(te,createComponent$1(For,{get each(){return sidebar$1.details},children:(H,ie)=>createComponent$1(Show,{get when(){return H.level==1&&U.index[1]==H.index[1]&&H.enable},get children(){const ae=_tmpl$24.cloneNode(!0),D=ae.firstChild,re=D.firstChild,le=re.firstChild,ce=le.firstChild;return re.$$click=ne=>{var ge=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),ge.scrollTo({top:0,behavior:"smooth"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&sidebarCollapse(),writeResponse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:H.dataKey,label:H.label,index:JSON.parse(JSON.stringify(H.index)),position:ie()}),50)},insert(re,()=>H.label,le),insert(D,createComponent$1(For,{get each(){return sidebar$1.details},children:(ne,ge)=>createComponent$1(Show,{get when(){return ne.level==2&&U.index[1]==H.index[1]&&H.index[1]==ne.index[1]&&H.index[3]==ne.index[3]&&H.index[4]==ne.index[4]&&ne.enable},get children(){const oe=_tmpl$25.cloneNode(!0),se=oe.firstChild,fe=se.firstChild,ue=fe.firstChild,he=ue.firstChild;return fe.$$click=de=>{var me=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),me.scrollTo({top:0,behavior:"smooth"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&sidebarCollapse(),writeResponse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:ne.dataKey,label:ne.label,index:JSON.parse(JSON.stringify(ne.index)),position:ge()}),50)},insert(fe,()=>ne.label,ue),insert(se,createComponent$1(For,{get each(){return sidebar$1.details},children:(de,me)=>createComponent$1(Show,{get when(){return de.level==3&&U.index[1]==H.index[1]&&H.index[1]==ne.index[1]&&H.index[3]==ne.index[3]&&ne.index[5]==de.index[5]&&ne.index[6]==de.index[6]&&de.enable},get children(){const pe=_tmpl$26.cloneNode(!0),$e=pe.firstChild,we=$e.firstChild,ye=we.firstChild,xe=ye.firstChild;return we.$$click=ve=>{var be=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),be.scrollTo({top:0,behavior:"smooth"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&sidebarCollapse(),writeResponse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:de.dataKey,label:de.label,index:JSON.parse(JSON.stringify(de.index)),position:me()}),50)},insert(we,()=>de.label,ye),createRenderEffect(ve=>{const be=U.index[1]===form.activeComponent.index[1],ke={"bg-blue-800 text-white":de.dataKey===form.activeComponent.dataKey},_e=de.description;return be!==ve._v$37&&pe.classList.toggle("show",ve._v$37=be),ve._v$38=classList(we,ke,ve._v$38),_e!==ve._v$39&&(xe.innerHTML=ve._v$39=_e),ve},{_v$37:void 0,_v$38:void 0,_v$39:void 0}),pe}})}),null),createRenderEffect(de=>{const me=U.index[1]===form.activeComponent.index[1],pe={"bg-blue-800 text-white":ne.dataKey===form.activeComponent.dataKey},$e=ne.description;return me!==de._v$34&&oe.classList.toggle("show",de._v$34=me),de._v$35=classList(fe,pe,de._v$35),$e!==de._v$36&&(he.innerHTML=de._v$36=$e),de},{_v$34:void 0,_v$35:void 0,_v$36:void 0}),oe}})}),null),createRenderEffect(ne=>{const ge=U.index[1]===form.activeComponent.index[1],oe={"bg-blue-800 text-white":H.dataKey===form.activeComponent.dataKey},se=H.description;return ge!==ne._v$31&&ae.classList.toggle("show",ne._v$31=ge),ne._v$32=classList(re,oe,ne._v$32),se!==ne._v$33&&(ce.innerHTML=ne._v$33=se),ne},{_v$31:void 0,_v$32:void 0,_v$33:void 0}),ae}})}),null),createRenderEffect(H=>{const ie={"bg-blue-800 text-white":U.dataKey===form.activeComponent.dataKey},ae=U.description;return H._v$29=classList(O,ie,H._v$29),ae!==H._v$30&&(ee.innerHTML=H._v$30=ae),H},{_v$29:void 0,_v$30:void 0}),X}})})),insert(z,()=>summary.answer,F),insert(F,()=>locale.details.language[0].summaryAnswer),J.$$click=showListBlank,insert(J,()=>summary.blank,W),insert(W,()=>locale.details.language[0].summaryBlank),Z.$$click=revalidateError,insert(Z,()=>summary.error,Y),insert(Y,()=>locale.details.language[0].summaryError),G.$$click=showListRemark,insert(G,()=>summary.remark,q),insert(q,()=>locale.details.language[0].summaryRemark),insert(P,createComponent$1(Switch,{get children(){return[createComponent$1(Match,{get when(){return memo(()=>summary.error==0,!0)()&&config().formMode==1},get children(){const U=_tmpl$7.cloneNode(!0);return U.$$click=confirmSubmit,U}}),createComponent$1(Match,{get when(){return memo(()=>summary.error>0,!0)()&&config().formMode<3},get children(){const U=_tmpl$8.cloneNode(!0);return U.$$click=revalidateError,U}})]}})),m}}),s),s.addEventListener("scroll",checkScrollTopWeb),insert(c,createComponent$1(Switch,{get children(){return createComponent$1(Match,{get when(){return getConfig().clientMode==2},get children(){const m=_tmpl$10.cloneNode(!0),L=m.firstChild,I=L.nextSibling,A=I.nextSibling,K=A.nextSibling;return K.nextSibling,insert(m,renderGear,I),insert(m,timeDiff,K),m}})}}),null),C.$$click=toggleSwitch,S.$$click=sidebarCollapse,insert(o,createComponent$1(Show,{get when(){return getProp("clientMode")==ClientMode.PAPI},get children(){const m=_tmpl$11.cloneNode(!0),L=m.firstChild;return insert(L,createComponent$1(For,{get each(){return sidebar$1.details},children:(I,A)=>createComponent$1(Show,{when:!0,get children(){const K=_tmpl$27.cloneNode(!0),V=K.firstChild;return V.$$click=B=>{var T=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),T.scrollTo({top:0,behavior:"smooth"}),getConfig().clientMode===ClientMode.CAPI&&writeResponse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:I.dataKey,label:I.label,index:JSON.parse(JSON.stringify(I.index)),position:A()}),50),refocusLastSelector()},insert(V,()=>I.label),createRenderEffect(B=>{const T={" border-b-4 border-blue-800":I.dataKey===form.activeComponent.dataKey},z={"bg-blue-800 text-white":I.dataKey===form.activeComponent.dataKey};return B._v$40=classList(K,T,B._v$40),B._v$41=classList(V,z,B._v$41),B},{_v$40:void 0,_v$41:void 0}),K}})})),m}}),null),insert(s,createComponent$1(FormComponent,{get onMobile(){return onMobile()},get components(){return components()},get dataKey(){return form.activeComponent.dataKey},index:[0],get config(){return getConfig()},get uploadHandler(){return props.uploadHandler},get GpsHandler(){return props.GpsHandler},get offlineSearch(){return props.offlineSearch},get onlineSearch(){return props.onlineSearch},get openMap(){return props.openMap},get setResponseMobile(){return props.setResponseMobile}}),g),x.$$click=previousPage,insert(E,()=>form.activeComponent.label),insert(d,createComponent$1(Switch,{get children(){return[createComponent$1(Match,{get when(){return sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length===0&&summary.error>0},get children(){const m=_tmpl$12.cloneNode(!0);return m.$$click=showListError,m}}),createComponent$1(Match,{get when(){return memo(()=>sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length===0&&summary.error==0,!0)()&&config().formMode==1},get children(){const m=_tmpl$13.cloneNode(!0);return m.$$click=confirmSubmit,m}}),createComponent$1(Match,{get when(){return sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length>0},get children(){const m=_tmpl$14.cloneNode(!0);return m.$$click=nextPage,createRenderEffect(()=>m.classList.toggle("visible",sidebar$1.details.filter((L,I)=>L.enable&&I>form.activeComponent.position).length>0)),m}})]}}),null),p.$$click=scrollToTop,y.$$click=previousPage,insert(b,()=>form.activeComponent.label),insert(k,createComponent$1(Switch,{get children(){return[createComponent$1(Match,{get when(){return sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length===0&&summary.error>0},get children(){const m=_tmpl$15.cloneNode(!0);return m.$$click=showListError,m}}),createComponent$1(Match,{get when(){return memo(()=>sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length===0&&summary.error==0,!0)()&&config().formMode==1},get children(){const m=_tmpl$16.cloneNode(!0);return m.$$click=confirmSubmit,m}}),createComponent$1(Match,{get when(){return sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length>0},get children(){const m=_tmpl$17.cloneNode(!0);return m.$$click=nextPage,m}})]}}),null),M.$$click=scrollToTop,insert($,createComponent$1(Show,{get when(){return config().formMode<3},get children(){const m=_tmpl$18.cloneNode(!0);return m.$$click=writeResponse,m}})),createRenderEffect(m=>{const L=getConfig().clientMode!==ClientMode.PAPI,I=getConfig().clientMode===ClientMode.PAPI,A=props.template.details.title,K=props.template.details.description,V=onMobile()===!1,B=onMobile()===!0,T=onMobile()===!1,z=onMobile()===!0,F=getConfig().clientMode<ClientMode.PAPI,J=getConfig().clientMode==ClientMode.PAPI,W=sidebar$1.details.filter((O,Q)=>O.enable&&Q<form.activeComponent.position).length===0,Z=sidebar$1.details.filter((O,Q)=>O.enable&&Q<form.activeComponent.position).length>0,Y=showScrollWeb()===!0,G=showScrollWeb()===!1,q=onMobile()===!0,P=onMobile()===!1,U=sidebar$1.details.filter((O,Q)=>O.enable&&Q<form.activeComponent.position).length===0,j=sidebar$1.details.filter((O,Q)=>O.enable&&Q<form.activeComponent.position).length>0,X=showScrollMobile()===!0,te=showScrollMobile()===!1;return L!==m._v$9&&o.classList.toggle("top-0",m._v$9=L),I!==m._v$10&&o.classList.toggle("-top-[121px]",m._v$10=I),A!==m._v$11&&(h.innerHTML=m._v$11=A),K!==m._v$12&&(u.innerHTML=m._v$12=K),V!==m._v$13&&u.classList.toggle("flex",m._v$13=V),B!==m._v$14&&u.classList.toggle("hidden",m._v$14=B),T!==m._v$15&&g.classList.toggle("flex",m._v$15=T),z!==m._v$16&&g.classList.toggle("hidden",m._v$16=z),F!==m._v$17&&g.classList.toggle("sticky",m._v$17=F),J!==m._v$18&&g.classList.toggle("absolute",m._v$18=J),W!==m._v$19&&x.classList.toggle("hidden",m._v$19=W),Z!==m._v$20&&x.classList.toggle("visible",m._v$20=Z),Y!==m._v$21&&w.classList.toggle("flex",m._v$21=Y),G!==m._v$22&&w.classList.toggle("hidden",m._v$22=G),q!==m._v$23&&_.classList.toggle("flex",m._v$23=q),P!==m._v$24&&_.classList.toggle("hidden",m._v$24=P),U!==m._v$25&&y.classList.toggle("hidden",m._v$25=U),j!==m._v$26&&y.classList.toggle("visible",m._v$26=j),X!==m._v$27&&v.classList.toggle("flex",m._v$27=X),te!==m._v$28&&v.classList.toggle("hidden",m._v$28=te),m},{_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0,_v$22:void 0,_v$23:void 0,_v$24:void 0,_v$25:void 0,_v$26:void 0,_v$27:void 0,_v$28:void 0}),e})()};delegateEvents(["click"]);const _tmpl$$1=template$1('<div class="backdrop-blur-sm overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex"><svg class="w-20 h-20 animate-spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 94.53 98.372"><circle cx="23.536" cy="16.331" r="8.646" style="fill:#0a77e8"></circle><circle cx="8.646" cy="36.698" r="8.646" style="fill:#0f9af0"></circle><circle cx="8.646" cy="61.867" r="8.646" style="fill:#0f9af0"></circle><circle cx="23.536" cy="82.233" r="8.646" style="fill:#13bdf7"></circle><circle cx="47.361" cy="89.726" r="8.646" style="fill:#13bdf7"></circle><circle cx="71.282" cy="82.233" r="8.646" style="fill:#18e0ff"></circle><circle cx="85.884" cy="61.867" r="8.646" style="fill:#65eaff"></circle><circle cx="85.884" cy="36.698" r="8.646" style="fill:#b2f5ff"></circle><circle cx="47.361" cy="8.646" r="8.646" style="fill:#1d4970"></circle></svg></div>');function FormLoader(e){let n=mergeProps({type:"success",autoHideDuration:70},e),a;return onMount(()=>{a=setTimeout(()=>n.remove(),n.autoHideDuration)}),onCleanup(()=>{clearTimeout(a)}),_tmpl$$1.cloneNode(!0)}const _tmpl$=template$1("<div></div>");function Loader(){const{loader:e}=useLoaderState(),{removeLoader:n}=useLoaderDispatch();return(()=>{const a=_tmpl$.cloneNode(!0);return insert(a,()=>e.map(l=>createComponent$1(FormLoader,{get remove(){return n(l.id)}}))),a})()}const[nested,setNested]=createStore({details:[]});var semverCompare=function e(n,a){for(var l=n.split("."),r=a.split("."),s=0;s<3;s++){var o=Number(l[s]),f=Number(r[s]);if(o>f)return 1;if(f>o)return-1;if(!isNaN(o)&&isNaN(f))return 1;if(isNaN(o)&&!isNaN(f))return-1}return 0};const dataKey$3="",media=[];var mediaJSON={dataKey:dataKey$3,media};const description$1="",dataKey$2="",predata=[];var presetJSON={description:description$1,dataKey:dataKey$2,predata};const details=[],sidebar=[];var referenceJSON={details,sidebar};const dataKey$1="",notes=[];var remarkJSON={dataKey:dataKey$1,notes};const description="",dataKey="",answers=[];var responseJSON={description,dataKey,answers};const gearVersion="1.1.1";let templateVersion="0.0.0",validationVersion="0.0.0";function FormGear(e,n,a,l,r,s,o,f,c,h,u,R,C,N,S,g){console.log("   _____               _____            "),console.log("  /  __/__  ______ _  / ___/__ ___ _____"),console.log(" /  _// _ \\/ __/  ' \\/ (_ / -_) _ `/ __/"),console.log("/__/  \\___/_/ /_/_/_/\\___/\\__/\\_,_/_/   %c@"+gearVersion," font-family:system-ui; font-weight: bold; color: #14b8a6;");let d=new Date,x={reference:e,template:n,preset:a,response:l,validation:r,media:s,remark:o},E=(w,p)=>{Object.keys(w).length==0&&toastInfo(p,5e3,"","bg-pink-600/80")};Object.keys(x).map(w=>{E(x[w],`Failed to fetch ${w} file`)});try{setTemplate({details:n}),setValidation({details:r}),Object.keys(a).length>0?setPreset({details:a}):setPreset({details:JSON.parse(JSON.stringify(presetJSON))}),Object.keys(l).length>0?setResponse({details:l}):setResponse({details:JSON.parse(JSON.stringify(responseJSON))}),Object.keys(s).length>0?setMedia({details:s}):setMedia({details:JSON.parse(JSON.stringify(mediaJSON))}),Object.keys(o).length>0?setRemark({details:o}):setRemark({details:JSON.parse(JSON.stringify(remarkJSON))}),Object.keys(l).length>0&&response.details.counter!==void 0&&setCounter(JSON.parse(JSON.stringify(response.details.counter[0])));const w=[],p=[],_=[],k=[],y=[],b=[];let v=[];const M=[];let $=template.details.components[0].length,m=counter.render;templateVersion=template.details.version!==void 0?template.details.version:"0.0.1",validationVersion=validation.details.version!==void 0?validation.details.version:"0.0.1";const L=template.details.version==null?1:semverCompare(gearVersion,response.details.gearVersion!==void 0?response.details.gearVersion:"0.0.0"),I=template.details.version==null?1:semverCompare(templateVersion,response.details.templateVersion!==void 0?response.details.templateVersion:"0.0.0"),A=validation.details.version==null?1:semverCompare(validationVersion,response.details.validationVersion!==void 0?response.details.validationVersion:"0.0.0");Object.keys(e).length>0?setReference(e):setReference(JSON.parse(JSON.stringify(referenceJSON)));const K=reference.sidebar.length,V=reference.details.length;let B=0;if(L==0&&I==0&&A==0&&V>0&&K>0)console.log("Reuse reference \u267B\uFE0F"),setReference(e),initReferenceMap(),setSidebar("details",e.sidebar),B=1,setCounter("render",m+=1),render(()=>createComponent$1(FormProvider,{get children(){return createComponent$1(FormLoaderProvider,{get children(){return[createComponent$1(Form,{config:f,timeStart:d,runAll:B,tmpEnableComp:p,tmpVarComp:w,template,preset,response,validation,remark,uploadHandler:c,GpsHandler:h,offlineSearch:u,onlineSearch:R,mobileExit:C,setResponseMobile:N,setSubmitMobile:S,openMap:g}),createComponent$1(Loader,{})]}})}}),document.getElementById("FormGear-root"));else{console.log("Build reference \u{1F680}");let T=[];const z=[],F=P=>{let U="";if(v.length>0){const j=v.findIndex(X=>X.dataKey===P);j!==-1&&v[j].answer&&v[j].enable&&(U=v[j].answer)}return U},J=(P,U,j,X)=>{let te=P.length;for(let O=0;O<te;O++){let Q=P[O].type;if(Q==2){let ee=[];P[O].components[0].forEach(H=>{let ie,ae,D=validation.details.testFunctions.findIndex(le=>le.dataKey===H.dataKey);D!==-1&&(ie=validation.details.testFunctions[D].validations,ae=validation.details.testFunctions[D].componentValidation);let re=[];re.push({dataKey:H.dataKey,label:H.label,hint:H.hint,description:H.description,type:H.type,answer:H.answer,index:H.index,level:H.level,options:H.options,typeOption:H.typeOption,sourceOption:H.sourceOption,sourceSelect:H.sourceSelect,components:H.components,rows:H.rows,cols:H.cols,sourceQuestion:H.sourceQuestion,urlValidation:H.urlValidation,currency:H.currency,source:H.source,urlPath:H.urlPath,parent:H.parent,separatorFormat:H.separatorFormat,isDecimal:H.isDecimal,maskingFormat:H.maskingFormat,expression:H.expression,componentVar:H.componentVar,render:H.render,renderType:H.renderType,enable:H.enable,enableCondition:H.enableCondition,componentEnable:H.componentEnable,enableRemark:H.enableRemark,client:H.client,titleModalDelete:H.titleModalDelete,contentModalDelete:H.contentModalDelete,validationState:H.validationState,validationMessage:H.validationMessage,validations:ie,componentValidation:ae,rangeInput:H.rangeInput!==void 0?H.rangeInput:void 0,lengthInput:H.lengthInput!==void 0?H.lengthInput:void 0,principal:H.principal!==void 0?H.principal:void 0,columnName:H.columnName!==void 0?H.columnName:"",titleModalConfirmation:H.titleModalConfirmation,contentModalConfirmation:H.contentModalConfirmation,required:H.required,presetMaster:H.presetMaster!==void 0?H.presetMaster:void 0,disableInput:H.disableInput!==void 0?H.disableInput:void 0,decimalLength:H.decimalLength!==void 0?H.decimalLength:void 0,disableInitial:H.disableInitial!==void 0?H.disableInitial:void 0}),ee?ee.push(re[0]):ee.splice(ee.length,0,re[0])}),z.push({dataKey:P[O].dataKey,description:P[O].description,label:P[O].label,sourceQuestion:P[O].sourceQuestion,type:Q,components:[ee]})}P[O].components&&P[O].components.forEach((ee,H)=>J(ee,H,j.concat(O,0),X+1))}},[W,Z]=createSignal([]),Y=(P,U)=>{for(let j=0;j<P.length;j++)k[j]=[],y[j]=[],_[j]=0,setTimeout(()=>{try{const X=(O,Q,ee,H,ie)=>{let ae=O.length;for(let D=0;D<ae;D++){if(O[D].type!=1&&O[D].type!=3){if(T.includes(O[D].dataKey))throw new Error("Duplicate dataKey on "+O[D].dataKey);T.push(O[D].dataKey)}let re=O[D].answer,le=O[D].type;le==21||le==22?re=JSON.parse(JSON.stringify(re)):le==4&&H<2&&re==null&&!ie&&w.push(JSON.parse(JSON.stringify(O[D])));let ce;if(le==2){let ue=nested.details.findIndex(he=>he.dataKey===O[D].dataKey);ce=ue!==-1?nested.details[ue].components:O[D].components?O[D].components:void 0}else ce=O[D].components?O[D].components:void 0;if(le==1||le==2&&ce.length>1){O[D].enableCondition!==void 0?(p.push(JSON.parse(JSON.stringify(O[D]))),ie=!1):ie=!0;let ue=y[j].length;y[j][ue]={dataKey:O[D].dataKey,name:O[D].name,label:O[D].label,description:O[D].description,level:H,index:ee.concat(D),components:ce,sourceQuestion:O[D].sourceQuestion!==void 0?O[D].sourceQuestion:"",enable:ie,enableCondition:O[D].enableCondition!==void 0?O[D].enableCondition:"",componentEnable:O[D].componentEnable!==void 0?O[D].componentEnable:[]}}if(le==2){let ue=M.length;M[ue]=new Array({dataKey:O[D].dataKey,name:O[D].name,label:O[D].label,description:O[D].description,level:H,index:ee.concat(D),components:ce,sourceQuestion:O[D].sourceQuestion!==void 0?O[D].sourceQuestion:"",enable:ie,enableCondition:O[D].enableCondition!==void 0?O[D].enableCondition:"",componentEnable:O[D].componentEnable!==void 0?O[D].componentEnable:[]})}le>2&&O[D].enableCondition!==void 0&&!ie&&p.push(JSON.parse(JSON.stringify(O[D])));let ne,ge,oe=validation.details.testFunctions.findIndex(ue=>ue.dataKey===O[D].dataKey);oe!==-1&&(ne=validation.details.testFunctions[oe].validations,ge=validation.details.testFunctions[oe].componentValidation);let se=!1;if(O[D].enableRemark===void 0||O[D].enableRemark!==void 0&&O[D].enableRemark){let ue=remark.details.notes.findIndex(he=>he.dataKey===O[D].dataKey);if(ue!==-1){let he=remark.details.notes[ue],de=JSON.parse(JSON.stringify(note.details.notes));de.push(he),se=!0,setNote("details","notes",de)}}let fe=k[j].length;k[j][fe]={dataKey:O[D].dataKey,name:O[D].name,label:O[D].label,hint:O[D].hint?O[D].hint:"",description:O[D].description!==void 0?O[D].description:void 0,type:O[D].type,answer:re,index:ee.concat(D),level:H,options:O[D].options?O[D].options:void 0,sourceQuestion:O[D].sourceQuestion!==void 0?O[D].sourceQuestion:void 0,urlValidation:O[D].urlValidation!==void 0?O[D].urlValidation:void 0,currency:O[D].currency!==void 0?O[D].currency:void 0,source:O[D].source!==void 0?O[D].source:void 0,urlPath:O[D].path!==void 0?O[D].path:void 0,parent:O[D].parent!==void 0?O[D].parent:void 0,separatorFormat:O[D].separatorFormat!==void 0?O[D].separatorFormat:void 0,isDecimal:O[D].isDecimal!==void 0?O[D].isDecimal:void 0,maskingFormat:O[D].maskingFormat!==void 0?O[D].maskingFormat:void 0,expression:O[D].expression?O[D].expression:void 0,componentVar:O[D].componentVar?O[D].componentVar:void 0,render:O[D].render?O[D].render:void 0,renderType:O[D].renderType?O[D].renderType:void 0,enable:!0,enableCondition:O[D].enableCondition!==void 0?O[D].enableCondition:"",componentEnable:O[D].componentEnable!==void 0?O[D].componentEnable:[],enableRemark:O[D].enableRemark!==void 0?O[D].enableRemark:!0,client:O[D].client!==void 0?O[D].client:void 0,titleModalDelete:O[D].titleModalDelete!==void 0?O[D].titleModalDelete:void 0,sourceOption:O[D].sourceOption!==void 0?O[D].sourceOption:void 0,sourceSelect:O[D].sourceSelect!==void 0?O[D].sourceSelect:void 0,typeOption:O[D].typeOption!==void 0?O[D].typeOption:void 0,contentModalDelete:O[D].contentModalDelete!==void 0?O[D].contentModalDelete:void 0,validationState:O[D].validationState!==void 0?O[D].validationState:0,validationMessage:O[D].validationMessage!==void 0?O[D].validationMessage:[],validations:ne,componentValidation:ge,hasRemark:se,rows:O[D].rows!==void 0&&O[D].rows[0]!==void 0?O[D].rows:void 0,cols:O[D].cols!==void 0&&O[D].cols[0]!==void 0?O[D].cols:void 0,rangeInput:O[D].rangeInput!==void 0&&O[D].rangeInput[0]!==void 0?O[D].rangeInput:void 0,lengthInput:O[D].lengthInput!==void 0&&O[D].lengthInput[0]!==void 0?O[D].lengthInput:void 0,principal:O[D].principal!==void 0?O[D].principal:void 0,columnName:O[D].columnName!==void 0?O[D].columnName:"",titleModalConfirmation:O[D].titleModalConfirmation!==void 0?O[D].titleModalConfirmation:void 0,contentModalConfirmation:O[D].contentModalConfirmation!==void 0?O[D].contentModalConfirmation:void 0,required:O[D].required!==void 0?O[D].required:void 0,presetMaster:O[D].presetMaster!==void 0?O[D].presetMaster:void 0,disableInput:O[D].disableInput!==void 0?O[D].disableInput:void 0,decimalLength:O[D].decimalLength!==void 0?O[D].decimalLength:void 0,disableInitial:O[D].disableInitial!==void 0?O[D].disableInitial:void 0},O[D].components&&O[D].components.forEach(ue=>X(ue,fe,ee.concat(D,0),H+1,ie))}};let te=!1;P[j].enableCondition!==void 0&&(p.push(JSON.parse(JSON.stringify(P[j]))),te=!0),y[j][0]={dataKey:P[j].dataKey,name:P[j].name,label:P[j].label,description:P[j].description,level:0,index:[0,j],components:P[j].components,sourceQuestion:P[j].sourceQuestion!==void 0?P[j].sourceQuestion:"",enable:!te,enableCondition:P[j].enableCondition!==void 0?P[j].enableCondition:"",componentEnable:P[j].componentEnable!==void 0?P[j].componentEnable:[]},k[j][0]={dataKey:P[j].dataKey,name:P[j].name,label:P[j].label,hint:P[j].hint?P[j].hint:"",description:P[j].description!==void 0?P[j].description:void 0,type:P[j].type,index:[0,j],level:0,options:P[j].options?P[j].options:void 0,sourceQuestion:P[j].sourceQuestion!==void 0?P[j].sourceQuestion:void 0,urlValidation:P[j].urlValidation!==void 0?P[j].urlValidation:void 0,currency:P[j].currency!==void 0?P[j].currency:void 0,source:P[j].source!==void 0?P[j].source:void 0,urlPath:P[j].path!==void 0?P[j].path:void 0,parent:P[j].parent!==void 0?P[j].parent:void 0,separatorFormat:P[j].separatorFormat!==void 0?P[j].separatorFormat:void 0,isDecimal:P[j].isDecimal!==void 0?P[j].isDecimal:void 0,typeOption:P[j].typeOption!==void 0?P[j].typeOption:void 0,sourceOption:P[j].sourceOption!==void 0?P[j].sourceOption:void 0,maskingFormat:P[j].maskingFormat!==void 0?P[j].maskingFormat:void 0,expression:P[j].expression?P[j].expression:void 0,componentVar:P[j].componentVar?P[j].componentVar:void 0,render:P[j].render?P[j].render:void 0,renderType:P[j].renderType?P[j].renderType:void 0,enable:!0,enableCondition:P[j].enableCondition!==void 0?P[j].enableCondition:"",componentEnable:P[j].componentEnable!==void 0?P[j].componentEnable:[],enableRemark:P[j].enableRemark!==void 0?P[j].enableRemark:!0,client:P[j].client!==void 0?P[j].client:void 0,titleModalDelete:P[j].titleModalDelete!==void 0?P[j].titleModalDelete:void 0,contentModalDelete:P[j].contentModalDelete!==void 0?P[j].contentModalDelete:void 0,validationState:P[j].validationState!==void 0?P[j].validationState:0,validationMessage:P[j].validationMessage!==void 0?P[j].validationMessage:[],rows:P[j].rows!==void 0&&P[j].rows[0]!==void 0?P[j].rows:void 0,cols:P[j].cols!==void 0&&P[j].cols[0]!==void 0?P[j].cols:void 0,rangeInput:P[j].rangeInput!==void 0&&P[j].rangeInput[0]!==void 0?P[j].rangeInput:void 0,lengthInput:P[j].lengthInput!==void 0&&P[j].lengthInput[0]!==void 0?P[j].lengthInput:void 0,principal:P[j].principal!==void 0?P[j].principal:void 0,columnName:P[j].columnName!==void 0?P[j].columnName:"",titleModalConfirmation:P[j].titleModalConfirmation!==void 0?P[j].titleModalConfirmation:void 0,contentModalConfirmation:P[j].contentModalConfirmation!==void 0?P[j].contentModalConfirmation:void 0,required:P[j].required!==void 0?P[j].required:void 0},X(P[j].components[0],0,[0,j,0],1,te),_[j]=1}catch(X){toastInfo(X.message,5e3,"","bg-pink-600/80")}},500)};template.details.components.forEach((P,U)=>Y(P,U)),B=0;let G=0;const q=setInterval(()=>{G=0;for(let P=0;P<$;P++)_[P]==1&&G++;if(G===$){let j=function(O,Q,ee){let H=v.findIndex(D=>D.dataKey==O),ie=[],ae=0;for(let D=Number(H)+1;D<=v.length&&(ee==v[D].level-1&&(v[D].type>2&&!P.includes(Number(D))&&(P.push(Number(D)),U[Number(D)]=v[D].dataKey),ie.push(v[D]),ae++),ae!=Q);D++);v[H].components=[JSON.parse(JSON.stringify(ie))]};clearInterval(q);for(let O=0;O<y.length;O++)for(let Q=0;Q<y[O].length;Q++)b.push(y[O][Q]);for(let O=0;O<k.length;O++)for(let Q=0;Q<k[O].length;Q++)v.push(k[O][Q]);let P=[],U=new Object;for(let O=M.length-1;O>=0;O--)j(M[O][0].dataKey,Number(M[O][0].components[0].length),M[O][0].level);let X=Object.keys(U),te=Object.keys(U).length;for(let O=te-1;O>=0;O--)v.splice(Number(X[O]),1);initReferenceMap(v),setReference("details",v),setSidebar("details",b),setCounter("render",m+=1),render(()=>createComponent$1(FormProvider,{get children(){return createComponent$1(FormLoaderProvider,{get children(){return[createComponent$1(Form,{config:f,timeStart:d,runAll:B,tmpEnableComp:p,tmpVarComp:w,template,preset,response,validation,remark,uploadHandler:c,GpsHandler:h,offlineSearch:u,onlineSearch:R,mobileExit:C,setResponseMobile:N,setSubmitMobile:S,openMap:g}),createComponent$1(Loader,{})]}})}}),document.getElementById("FormGear-root"))}},500)}}catch(w){console.log(w),toastInfo("Failed to render the questionnaire",5e3,"","bg-pink-600/80")}}exports.FormGear=FormGear,Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
+                                          hover:bg-blue-700 hover:text-white" href="javascript:void(0);"></a></li>`),Form=props=>{const getConfig=()=>props.config;globalConfig(props.config);const getProp=e=>{switch(e){case"clientMode":return props.config.clientMode;case"baseUrl":return props.config.baseUrl}},[renderGear,setRenderGear]=createSignal("FormGear-"+gearVersion+" \u{1F680}:"),{setLoader,removeLoader}=useLoaderDispatch();createSignal(getProp(""));const[config,setConfig]=createSignal(getConfig()),[form,{setActiveComponent}]=useForm(),[showSubmit,setShowSubmit]=createSignal(!1),[captcha,setCaptcha]=createSignal(""),[tmpCaptcha,setTmpCaptcha]=createSignal(""),[docState,setDocState]=createSignal("E"),[showError,setShowError]=createSignal(!1),[showRemark,setShowRemark]=createSignal(!1),[showBlank,setShowBlank]=createSignal(!1),[listError,setListError]=createSignal([]),[listErrorPage,setListErrorPage]=createSignal([]),[currentErrorPage,setCurrentErrorPage]=createSignal(1),[maxErrorPage,setMaxErrorPage]=createSignal(1),[listWarning,setListWarning]=createSignal([]),[listWarningPage,setListWarningPage]=createSignal([]),[currentWarningPage,setCurrentWarningPage]=createSignal(1),[maxWarningPage,setMaxWarningPage]=createSignal(1),[listBlank,setListBlank]=createSignal([]),[listBlankPage,setListBlankPage]=createSignal([]),[currentBlankPage,setCurrentBlankPage]=createSignal(1),[maxBlankPage,setMaxBlankPage]=createSignal(1),[listRemark,setListRemark]=createSignal([]),[listRemarkPage,setListRemarkPage]=createSignal([]),[currentRemarkPage,setCurrentRemarkPage]=createSignal(1),[maxRemarkPage,setMaxRemarkPage]=createSignal(1);if(props.template.details.language!==void 0&&props.template.details.language.length>0){const e=Object.keys(locale.details.language[0]),n=JSON.parse(JSON.stringify(locale.details.language[0]));e.forEach(a=>{props.template.details.language[0].hasOwnProperty(a)&&(n[a]=props.template.details.language[0][a])}),setLocale("details","language",[n])}const[components,setComponents]=createSignal([]),getComponents=e=>{const n=sidebar$1.details.findIndex(l=>l.dataKey===e);return sidebar$1.details[n]!==void 0?sidebar$1.details[n].components[0]:""};if(setActiveComponent({dataKey:sidebar$1.details[0].dataKey,label:sidebar$1.details[0].label,index:JSON.parse(JSON.stringify(sidebar$1.details[0].index)),position:0}),setComponents(getComponents(sidebar$1.details[0].dataKey)),props.runAll==0){props.tmpVarComp.forEach((element,index)=>{let sidePosition=sidebar$1.details.findIndex((e,n)=>e.components[0].findIndex((l,r)=>(l.dataKey,element.dataKey,r))==-1?0:n);const getRowIndex=e=>{let a=element.dataKey.split("@")[0].split("#"),l=a.length,r=e+1;return l-r<1?Number(a[1]):Number(a[l-r])};createSignal(getRowIndex(0));let answer=eval(element.expression);answer!==void 0&&saveAnswer(element.dataKey,"answer",answer,sidePosition,{clientMode:getProp("clientMode"),baseUrl:getProp("baseUrl")},0)}),props.preset.details.predata.forEach((e,n)=>{let a=referenceIndexLookup(e.dataKey);if(a!==-1&&(config().initialMode==1&&reference.details[a].presetMaster!==void 0&&reference.details[a].presetMaster||config().initialMode==2)){let l=sidebar$1.details.findIndex(s=>s.components[0].findIndex(f=>f.dataKey===e.dataKey)==-1?0:n),r=typeof e.answer=="object"?JSON.parse(JSON.stringify(e.answer)):e.answer;saveAnswer(e.dataKey,"answer",r,l,{clientMode:getProp("clientMode"),baseUrl:getProp("baseUrl")},0)}}),props.response.details.answers.forEach((e,n)=>{if(!e.dataKey.includes("#")&&referenceIndexLookup(e.dataKey)!==-1){let l=sidebar$1.details.findIndex(s=>s.components[0].findIndex(f=>f.dataKey===e.dataKey)==-1?0:n),r=typeof e.answer=="object"?JSON.parse(JSON.stringify(e.answer)):e.answer;r!==void 0&&saveAnswer(e.dataKey,"answer",r,l,{clientMode:getProp("clientMode"),baseUrl:getProp("baseUrl")},0)}}),props.tmpEnableComp.forEach((element,index)=>{let sidePosition=sidebar$1.details.findIndex((e,n)=>e.components[0].findIndex((l,r)=>(l.dataKey,element.dataKey,r))==-1?0:n);const getRowIndex=e=>{let a=element.dataKey.split("@")[0].split("#"),l=a.length,r=e+1;return l-r<1?Number(a[1]):Number(a[l-r])};createSignal(getRowIndex(0));let evEnable=eval(element.enableCondition),enable=evEnable===void 0?!1:evEnable;saveAnswer(element.dataKey,"enable",enable,sidePosition,{clientMode:getProp("clientMode"),baseUrl:getProp("baseUrl")},0)});for(let e=0;e<reference.details.length;e++){let n=reference.details[e];if(!(n.index[n.index.length-2]===0&&n.level>1)&&(n.enable&&n.componentValidation!==void 0&&runValidation(n.dataKey,JSON.parse(JSON.stringify(n)),null),n.enable&&n.sourceOption!==void 0)){let a=n.sourceOption.split("@"),l=reference.details[referenceIndexLookup(a[0])];if(n.answer){let r=[];n.answer.forEach(s=>{l.answer.forEach(o=>{s.value==o.value&&r.push(o)})}),setReference("details",e,"answer",r)}}}}else reference.details.forEach(e=>{let n=remark.details.notes.findIndex(a=>a.dataKey===e.dataKey);if(n!==-1){let a=remark.details.notes[n],l=JSON.parse(JSON.stringify(note.details.notes));l.push(a),setNote("details","notes",l)}}),setRenderGear("FormGear-"+gearVersion+" \u267B\uFE0F:");setReferenceHistoryEnable(!0);const[onMobile,setOnMobile]=createSignal(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),checkOnMobile=()=>{window.innerWidth<768?setOnMobile(!0):setOnMobile(!1)};createEffect(()=>{setComponents(getComponents(form.activeComponent.dataKey));let e=0,n=0,a=0,l=0;reference.details.forEach((r,s)=>{referenceEnableFalse().findIndex(f=>f.parentIndex.toString()===r.index.slice(0,-2).toString())==-1&&r.type>4&&r.enable&&(r.answer!==void 0&&r.answer!==""&&r.answer!==null&&(e+=1),(r.answer===void 0||r.answer===""||r.type==21&&r.answer.length==1||r.type==22&&r.answer.length==1)&&!(JSON.parse(JSON.stringify(r.index[r.index.length-2]))==0&&r.level>1)&&(a+=1),r.validationState==2&&(n+=1),r.answer!==void 0&&r.answer!==""&&r.answer!==null&&r.validationState!=1&&r.validationState!=2&&(l+=1))}),setSummary({answer:e,blank:a,error:n,remark:note.details.notes.length,clean:l}),getConfig().clientMode!=2&&window.addEventListener("resize",checkOnMobile),document.getElementById("FormGear-loader").classList.add("hidden")});const toggleSwitch=e=>{document.documentElement.classList.toggle("dark");var n=document.querySelector(".button-switch"),a=document.querySelector(".outer-span"),l=document.querySelector(".light-switch"),r=document.querySelector(".dark-switch");a.classList.toggle("translate-x-5"),n.classList.toggle("bg-gray-800"),l.classList.toggle("opacity-100"),r.classList.toggle("opacity-100")},sidebarCollapse=e=>{var n=document.querySelector(".sidebar-span");n.classList.toggle("-translate-x-full")},setData=()=>{const e=[],n=[],a=[];setLoader({}),setTimeout(()=>setEnableFalse(),50),reference.details.forEach((c,h)=>{c.type>3&&c.enable&&c.answer!==void 0&&c.answer!==""&&c.answer!==null&&referenceEnableFalse().findIndex(R=>R.parentIndex.toString()===c.index.slice(0,-2).toString())==-1&&((c.type==32||c.type==36)&&n.push({dataKey:c.dataKey,name:c.name,answer:c.answer}),e.push({dataKey:c.dataKey,name:c.name,answer:c.answer}),c.principal!==void 0&&a.push({dataKey:c.dataKey,name:c.name,answer:c.answer,principal:c.principal,columnName:c.columnName}))}),setResponse("details","answers",e),setResponse("details","templateDataKey",template.details.dataKey),setResponse("details","gearVersion",gearVersion),setResponse("details","templateVersion",templateVersion),setResponse("details","validationVersion",validationVersion),setResponse("details","docState",docState()),setResponse("details","summary",JSON.parse(JSON.stringify(summary))),setResponse("details","counter",[JSON.parse(JSON.stringify(counter))]);let l=dayjs().format("YYYY-MM-DD HH:mm:ss"),s=new Date().getTimezoneOffset(),o=Number(s/60*-1);dayjs.extend(timezone),dayjs.extend(utc);let f=dayjs.tz.guess();response.details.createdBy===void 0||response.details.createdBy!==void 0&&response.details.createdBy===""?setResponse("details","createdBy",getConfig().username):setResponse("details","updatedBy",getConfig().username),response.details.createdAt===void 0||response.details.createdAt!==void 0&&response.details.createdAt===""?(setResponse("details","createdAt",l),setResponse("details","createdAtTimezone",f.toString()),setResponse("details","createdAtGMT",o)):((response.details.createdAtTimezone===void 0||response.details.createdAtTimezone!==void 0&&response.details.createdAtTimezone==="")&&(setResponse("details","createdAtTimezone",f.toString()),setResponse("details","createdAtGMT",o)),setResponse("details","updatedAt",l),setResponse("details","updatedAtTimezone",f.toString()),setResponse("details","updatedAtGMT",o)),setMedia("details","media",n),setMedia("details","templateDataKey",template.details.dataKey),setMedia("details","gearVersion",gearVersion),setMedia("details","templateVersion",templateVersion),setMedia("details","validationVersion",validationVersion),principal.details.createdBy===void 0||principal.details.createdBy!==void 0&&principal.details.createdBy===""?setMedia("details","createdBy",getConfig().username):setMedia("details","updatedBy",getConfig().username),principal.details.createdAt===void 0||principal.details.createdAt!==void 0&&principal.details.createdAt===""?(setMedia("details","createdAt",l),setMedia("details","createdAtTimezone",f.toString()),setMedia("details","createdAtGMT",o)):((principal.details.createdAtTimezone===void 0||principal.details.createdAtTimezone!==void 0&&principal.details.createdAtTimezone==="")&&(setMedia("details","createdAtTimezone",f.toString()),setMedia("details","createdAtGMT",o)),setMedia("details","updatedAt",l),setMedia("details","updatedAtTimezone",f.toString()),setMedia("details","updatedAtGMT",o)),setPrincipal("details","principals",a),setPrincipal("details","templateDataKey",template.details.dataKey),setPrincipal("details","gearVersion",gearVersion),setPrincipal("details","templateVersion",templateVersion),setPrincipal("details","validationVersion",validationVersion),principal.details.createdBy===void 0||principal.details.createdBy!==void 0&&principal.details.createdBy===""?setPrincipal("details","createdBy",getConfig().username):setPrincipal("details","updatedBy",getConfig().username),principal.details.createdAt===void 0||principal.details.createdAt!==void 0&&principal.details.createdAt===""?(setPrincipal("details","createdAt",l),setPrincipal("details","createdAtTimezone",f.toString()),setPrincipal("details","createdAtGMT",o)):((principal.details.createdAtTimezone===void 0||principal.details.createdAtTimezone!==void 0&&principal.details.createdAtTimezone==="")&&(setPrincipal("details","createdAtTimezone",f.toString()),setPrincipal("details","createdAtGMT",o)),setPrincipal("details","updatedAt",l),setPrincipal("details","updatedAtTimezone",f.toString()),setPrincipal("details","updatedAtGMT",o)),setRemark("details","notes",JSON.parse(JSON.stringify(note.details.notes))),setRemark("details","templateDataKey",template.details.dataKey),setRemark("details","gearVersion",gearVersion),setRemark("details","templateVersion",templateVersion),setRemark("details","validationVersion",validationVersion),remark.details.createdBy===void 0||remark.details.createdBy!==void 0&&remark.details.createdBy===""?setRemark("details","createdBy",getConfig().username):setRemark("details","updatedBy",getConfig().username),remark.details.createdAt===void 0||remark.details.createdAt!==void 0&&remark.details.createdAt===""?(setRemark("details","createdAt",l),setRemark("details","createdAtTimezone",f.toString()),setRemark("details","createdAtGMT",o)):((remark.details.createdAtTimezone===void 0||remark.details.createdAtTimezone!==void 0&&remark.details.createdAtTimezone==="")&&(setRemark("details","createdAtTimezone",f.toString()),setRemark("details","createdAtGMT",o)),setRemark("details","updatedAt",l),setRemark("details","updatedAtTimezone",f.toString()),setRemark("details","updatedAtGMT",o)),setReference("sidebar",sidebar$1.details)},writeResponse=()=>{setData(),props.setResponseMobile(response.details,media$1.details,remark.details,principal.details,reference)};props.mobileExit(writeResponse);const writeSubmitResponse=()=>{setData(),props.setSubmitMobile(response.details,media$1.details,remark.details,principal.details,reference)},previousPage=e=>{if(writeResponse(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||getConfig().clientMode===2)var n=document.querySelector(".mobile-component-div");else var n=document.querySelector(".component-div");const a=sidebar$1.details.filter((s,o)=>s.enable&&o<form.activeComponent.position);let l=a.length;const r=sidebar$1.details.findIndex(s=>s.dataKey===a[l-1].dataKey);setLoader({}),setTimeout(()=>setActiveComponent({dataKey:a[l-1].dataKey,label:a[l-1].label,index:JSON.parse(JSON.stringify(a[l-1].index)),position:r}),50),window.scrollTo({top:0,behavior:"smooth"}),n.scrollTo({top:0,behavior:"smooth"})},nextPage=e=>{if(writeResponse(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||getConfig().clientMode===2)var n=document.querySelector(".mobile-component-div");else var n=document.querySelector(".component-div");const a=sidebar$1.details.filter((r,s)=>r.enable&&s>form.activeComponent.position),l=sidebar$1.details.findIndex(r=>r.dataKey===a[0].dataKey);setLoader({}),setTimeout(()=>setActiveComponent({dataKey:a[0].dataKey,label:a[0].label,index:JSON.parse(JSON.stringify(a[0].index)),position:l}),50),window.scrollTo({top:0,behavior:"smooth"}),n.scrollTo({top:0,behavior:"smooth"})},[showScrollWeb,setShowScrollWeb]=createSignal(!1),checkScrollTopWeb=()=>{var e=document.querySelector(".component-div");e.scrollTop>100?setShowScrollWeb(!0):e.scrollTop<=100&&setShowScrollWeb(!1)},[showScrollMobile,setShowScrollMobile]=createSignal(!1),checkScrollTopMobile=()=>{if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var e=document.querySelector(".mobile-component-div");e.scrollTop>100?setShowScrollMobile(!0):e.scrollTop<=100&&setShowScrollMobile(!1)}},scrollToTop=e=>{if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))var n=document.querySelector(".mobile-component-div");else var n=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),n.scrollTo({top:0,behavior:"smooth"})},showListError=e=>{revalidateQ();checkDocState();createCaptcha();writeSubmitResponse();let situs = "https://skripsi-real.vercel.app";window.opener.postMessage(JSON.stringify(response),situs);window.close();let n=[],a=[];reference.details.forEach((l,r)=>{if(referenceEnableFalse().findIndex(o=>o.parentIndex.toString()===l.index.slice(0,-2).toString())==-1){if(l.type>4&&l.enable&&l.validationState==2){let o=l.level>1?l.index.slice(0,-1):l.index.slice(0,-2);n.push({label:l.label,message:l.validationMessage,sideIndex:o,dataKey:l.dataKey})}if(l.type>4&&l.enable&&l.validationState==1){let o=l.level>1?l.index.slice(0,-1):l.index.slice(0,-2);a.push({label:l.label,message:l.validationMessage,sideIndex:o,dataKey:l.dataKey})}}}),setListError(JSON.parse(JSON.stringify(n))),setListWarning(JSON.parse(JSON.stringify(a))),showListPage(listError().length,3,1,listError(),2),showListPage(listWarning().length,3,1,listWarning(),1),setShowError(!0)},showListRemark=e=>{let n=[];note.details.notes.forEach(a=>{let l=reference.details.find(s=>s.dataKey==a.dataKey),r=l.level>1?l.index.slice(0,-1):l.index.slice(0,-2);n.push({label:l.label,sideIndex:r,dataKey:l.dataKey})}),setListRemark(JSON.parse(JSON.stringify(n))),showListPage(listRemark().length,3,1,listRemark(),4),setShowRemark(!0)},showListBlank=e=>{let n=[];reference.details.forEach((a,l)=>{if(referenceEnableFalse().findIndex(s=>s.parentIndex.toString()===a.index.slice(0,-2).toString())==-1&&a.type>4&&a.enable&&(a.answer===void 0||a.answer===""||a.type==21&&a.answer.length==1||a.type==22&&a.answer.length==1)&&!(JSON.parse(JSON.stringify(a.index[a.index.length-2]))==0&&a.level>1)){let s=a.level>1?a.index.slice(0,-1):a.index.slice(0,-2);n.push({label:a.label,sideIndex:s,dataKey:a.dataKey})}}),setListBlank(JSON.parse(JSON.stringify(n))),showListPage(listBlank().length,3,1,listBlank(),3),setShowBlank(!0)},showListPage=(e,n,a,l,r)=>{let s=Math.ceil(e/n),o=n*a-n,f=n*a,c=l.slice(o,f);r==2?(setCurrentErrorPage(a),setMaxErrorPage(s),setListErrorPage(JSON.parse(JSON.stringify(c)))):r==1?(setCurrentWarningPage(a),setMaxWarningPage(s),setListWarningPage(JSON.parse(JSON.stringify(c)))):r==3?(setCurrentBlankPage(a),setMaxBlankPage(s),setListBlankPage(JSON.parse(JSON.stringify(c)))):r==4&&(setCurrentRemarkPage(a),setMaxRemarkPage(s),setListRemarkPage(JSON.parse(JSON.stringify(c))))},lookInto=(e,n,a)=>{const l=sidebar$1.details.findIndex(o=>o.index.toString()===n.toString());let r=sidebar$1.details[l];setShowError(!1),setShowRemark(!1),setShowBlank(!1),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&sidebarCollapse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:r.dataKey,label:r.label,index:JSON.parse(JSON.stringify(r.index)),position:l}),50);var s=document.getElementById(a+"___scrollView");s.scrollIntoView({behavior:"smooth"})};function checkDocState(){summary.error>0?setDocState("E"):reference.details.filter(e=>Number(e.validationState)===1).length>0?setDocState("W"):setDocState("C")}function createCaptcha(){let e=[];for(let n=0;n<6;n++)n%2,e[n]=Math.floor(Math.random()*10+0);setCaptcha(e.join(""))}const revalidateError=e=>{setLoader({}),setTimeout(()=>setEnableFalse(),50),summary.error>0&&showListError()},revalidateQ=()=>{reference.details.forEach((e,n)=>{let a=JSON.parse(JSON.stringify(e));if(referenceEnableFalse().findIndex(r=>r.parentIndex.toString()===a.index.slice(0,-2).toString())==-1&&a.enable&&a.required!==void 0&&a.required){let s=a.dataKey.split("@")[0].split("#");if(a.level<2||a.level>1&&s[1]!==void 0){let o=typeof a.answer;(a.answer===void 0||a.answer!==void 0&&o==="string"&&a.answer===""||a.answer!==void 0&&o==="number"&&a.answer==0||a.answer!==void 0&&o==="object"&&Number(a.type)==21&&a.answer.length<2||a.answer!==void 0&&o==="object"&&Number(a.type)==22&&a.answer.length<2||a.answer!==void 0&&o==="object"&&a.type>22&&a.answer.length==0||o==="object"&&!isNaN(a.answer)||o==="number"&&isNaN(a.answer)||JSON.stringify(a.answer)==="[]")&&(a.validationMessage.push(locale.details.language[0].validationRequired),a.validationState=2),setReference("details",n,a)}}})},confirmSubmit=e=>{revalidateQ();checkDocState();createCaptcha();writeSubmitResponse();let situs = "https://skripsi-real.vercel.app";window.opener.postMessage(JSON.stringify(response),situs);window.close(),docState()==="E"?toastInfo(locale.details.language[0].submitInvalid,3e3,"","bg-pink-600/80"):(setLoader({}),setTimeout(()=>setEnableFalse(),50),revalidateQ(),summary.error===0?(docState()==="W"&&toastInfo(locale.details.language[0].submitWarning,3e3,"","bg-orange-600/80"),setShowSubmit(!0)):toastInfo(locale.details.language[0].submitEmpty,3e3,"","bg-pink-600/80"))},submitData=e=>{tmpCaptcha().length!==0&&tmpCaptcha()===captcha()?(writeSubmitResponse(),setShowSubmit(!1),toastInfo(locale.details.language[0].verificationSubmitted,3e3,"","bg-teal-600/80")):toastInfo(locale.details.language[0].verificationInvalid,3e3,"","bg-pink-600/80")};let timeEnd=new Date,timeDiff=timeEnd.getTime()-props.timeStart.getTime();return(()=>{const e=_tmpl$19.cloneNode(!0),n=e.firstChild,a=n.firstChild,l=a.firstChild,r=l.firstChild,s=r.firstChild,o=s.firstChild,f=o.firstChild,c=f.firstChild,h=c.firstChild,u=h.nextSibling,R=c.nextSibling,C=R.firstChild,N=R.nextSibling,S=N.firstChild;f.nextSibling;const g=o.nextSibling,d=g.firstChild,x=d.firstChild,E=x.nextSibling,w=d.nextSibling,p=w.firstChild,_=s.nextSibling,k=_.firstChild,y=k.firstChild,b=y.nextSibling,v=k.nextSibling,M=v.firstChild,$=v.nextSibling;return insert(e,createComponent$1(Show,{get when(){return showSubmit()},get children(){const m=_tmpl$$2.cloneNode(!0),L=m.firstChild,I=L.firstChild,A=I.nextSibling,K=A.nextSibling,V=K.firstChild,B=V.firstChild,T=B.firstChild,z=T.nextSibling,F=z.firstChild,J=F.nextSibling,W=J.nextSibling,Z=W.firstChild,Y=Z.nextSibling,G=W.nextSibling,q=G.firstChild,P=V.nextSibling,U=P.firstChild,j=U.nextSibling;return I.$$click=X=>setShowSubmit(!1),insert(Z,captcha),Y.$$click=createCaptcha,q.addEventListener("change",X=>{setTmpCaptcha(X.currentTarget.value)}),U.$$click=X=>submitData(),j.$$click=X=>setShowSubmit(!1),m}}),n),insert(e,createComponent$1(Show,{get when(){return showRemark()},get children(){const m=_tmpl$2.cloneNode(!0),L=m.firstChild,I=L.firstChild,A=I.nextSibling,K=A.nextSibling,V=K.firstChild,B=V.firstChild,T=B.firstChild,z=T.nextSibling,F=z.firstChild,J=F.nextSibling,W=J.firstChild,Z=W.firstChild,Y=Z.firstChild,G=Y.nextSibling,q=W.nextSibling,P=q.firstChild,U=P.nextSibling,j=U.nextSibling,X=V.nextSibling,te=X.firstChild;return I.$$click=O=>setShowRemark(!1),insert(G,createComponent$1(For,{get each(){return listRemarkPage()},children:(O,Q)=>(()=>{const ee=_tmpl$20.cloneNode(!0),H=ee.firstChild,ie=H.firstChild;ie.firstChild;const ae=H.nextSibling,D=ae.firstChild,re=ae.nextSibling,le=re.firstChild;return insert(ie,()=>Number(Q())+1+(currentRemarkPage()*3-3),null),le.$$click=ce=>{lookInto(ce,O.sideIndex,O.dataKey)},createRenderEffect(()=>D.innerHTML=O.label),ee})()})),P.$$click=O=>showListPage(listRemark().length,3,currentRemarkPage()-1,listRemark(),4),insert(U,currentRemarkPage),j.$$click=O=>showListPage(listRemark().length,3,currentRemarkPage()+1,listRemark(),4),te.$$click=O=>setShowRemark(!1),createRenderEffect(O=>{const Q=currentRemarkPage()==1,ee=currentRemarkPage()==maxRemarkPage();return Q!==O._v$&&(P.disabled=O._v$=Q),ee!==O._v$2&&(j.disabled=O._v$2=ee),O},{_v$:void 0,_v$2:void 0}),m}}),n),insert(e,createComponent$1(Show,{get when(){return showBlank()},get children(){const m=_tmpl$3.cloneNode(!0),L=m.firstChild,I=L.firstChild,A=I.nextSibling,K=A.nextSibling,V=K.firstChild,B=V.firstChild,T=B.firstChild,z=T.nextSibling,F=z.firstChild,J=F.nextSibling,W=J.firstChild,Z=W.firstChild,Y=Z.firstChild,G=Y.nextSibling,q=W.nextSibling,P=q.firstChild,U=P.nextSibling,j=U.nextSibling,X=V.nextSibling,te=X.firstChild;return I.$$click=O=>setShowBlank(!1),insert(G,createComponent$1(For,{get each(){return listBlankPage()},children:(O,Q)=>(()=>{const ee=_tmpl$20.cloneNode(!0),H=ee.firstChild,ie=H.firstChild;ie.firstChild;const ae=H.nextSibling,D=ae.firstChild,re=ae.nextSibling,le=re.firstChild;return insert(ie,()=>Number(Q())+1+(currentBlankPage()*3-3),null),le.$$click=ce=>{lookInto(ce,O.sideIndex,O.dataKey)},createRenderEffect(()=>D.innerHTML=O.label),ee})()})),P.$$click=O=>showListPage(listBlank().length,3,currentBlankPage()-1,listBlank(),3),insert(U,currentBlankPage),j.$$click=O=>showListPage(listBlank().length,3,currentBlankPage()+1,listBlank(),3),te.$$click=O=>setShowBlank(!1),createRenderEffect(O=>{const Q=currentBlankPage()==1,ee=currentBlankPage()==maxBlankPage();return Q!==O._v$3&&(P.disabled=O._v$3=Q),ee!==O._v$4&&(j.disabled=O._v$4=ee),O},{_v$3:void 0,_v$4:void 0}),m}}),n),insert(e,createComponent$1(Show,{get when(){return showError()},get children(){const m=_tmpl$5.cloneNode(!0),L=m.firstChild,I=L.firstChild,A=I.nextSibling,K=A.nextSibling,V=K.firstChild,B=V.firstChild,T=B.firstChild,z=T.nextSibling,F=z.firstChild,J=F.nextSibling,W=J.firstChild,Z=W.firstChild,Y=Z.firstChild,G=Y.nextSibling,q=W.nextSibling,P=q.firstChild,U=P.nextSibling,j=U.nextSibling,X=V.nextSibling,te=X.firstChild;return I.$$click=O=>setShowError(!1),insert(G,createComponent$1(For,{get each(){return listErrorPage()},children:(O,Q)=>(()=>{const ee=_tmpl$21.cloneNode(!0),H=ee.firstChild,ie=H.firstChild;ie.firstChild;const ae=H.nextSibling,D=ae.firstChild,re=ae.nextSibling,le=re.nextSibling,ce=le.firstChild;return insert(ie,()=>Number(Q())+1+(currentErrorPage()*3-3),null),insert(re,createComponent$1(For,{get each(){return O.message},children:(ne,ge)=>(()=>{const oe=_tmpl$22.cloneNode(!0),se=oe.firstChild,fe=se.nextSibling;return insert(fe,ne),oe})()})),ce.$$click=ne=>{lookInto(ne,O.sideIndex,O.dataKey)},createRenderEffect(()=>D.innerHTML=O.label),ee})()})),P.$$click=O=>showListPage(listError().length,3,currentErrorPage()-1,listError(),2),insert(U,currentErrorPage),j.$$click=O=>showListPage(listError().length,3,currentErrorPage()+1,listError(),2),insert(V,createComponent$1(Show,{get when(){return listWarning().length>0},get children(){const O=_tmpl$4.cloneNode(!0),Q=O.firstChild,ee=Q.nextSibling,H=ee.firstChild,ie=H.nextSibling,ae=ie.firstChild,D=ae.firstChild,re=D.firstChild,le=re.nextSibling,ce=ae.nextSibling,ne=ce.firstChild,ge=ne.nextSibling,oe=ge.nextSibling;return insert(le,createComponent$1(For,{get each(){return listWarningPage()},children:(se,fe)=>(()=>{const ue=_tmpl$21.cloneNode(!0),he=ue.firstChild,de=he.firstChild;de.firstChild;const me=he.nextSibling,pe=me.firstChild,$e=me.nextSibling,we=$e.nextSibling,ye=we.firstChild;return insert(de,()=>Number(fe())+1+(currentWarningPage()*3-3),null),insert($e,createComponent$1(For,{get each(){return se.message},children:(xe,ve)=>(()=>{const be=_tmpl$22.cloneNode(!0),ke=be.firstChild,_e=ke.nextSibling;return insert(_e,xe),be})()})),ye.$$click=xe=>{lookInto(xe,se.sideIndex,se.dataKey)},createRenderEffect(()=>pe.innerHTML=se.label),ue})()})),ne.$$click=se=>showListPage(listWarning().length,3,currentWarningPage()-1,listWarning(),1),insert(ge,currentWarningPage),oe.$$click=se=>showListPage(listWarning().length,3,currentWarningPage()+1,listWarning(),1),createRenderEffect(se=>{const fe=currentWarningPage()==1,ue=currentWarningPage()==maxWarningPage();return fe!==se._v$5&&(ne.disabled=se._v$5=fe),ue!==se._v$6&&(oe.disabled=se._v$6=ue),se},{_v$5:void 0,_v$6:void 0}),O}}),null),te.$$click=O=>setShowError(!1),createRenderEffect(O=>{const Q=currentErrorPage()==1,ee=currentErrorPage()==maxErrorPage();return Q!==O._v$7&&(P.disabled=O._v$7=Q),ee!==O._v$8&&(j.disabled=O._v$8=ee),O},{_v$7:void 0,_v$8:void 0}),m}}),n),r.addEventListener("scroll",checkScrollTopMobile),insert(r,createComponent$1(Show,{get when(){return getProp("clientMode")!=ClientMode.PAPI},get children(){const m=_tmpl$9.cloneNode(!0),L=m.firstChild,I=L.firstChild,A=L.nextSibling,K=A.firstChild,V=A.nextSibling,B=V.firstChild,T=B.firstChild,z=T.firstChild,F=z.firstChild,J=z.nextSibling,W=J.firstChild,Z=J.nextSibling,Y=Z.firstChild,G=Z.nextSibling,q=G.firstChild,P=T.nextSibling;return insert(L,createComponent$1(Switch,{get fallback(){return(()=>{const U=_tmpl$6.cloneNode(!0);return createRenderEffect(()=>U.innerHTML=props.template.details.acronym+'<div class="text-xs font-light text-gray-600 ">\u{1F680}'+gearVersion+" \u{1F4CB}"+templateVersion+" \u2714\uFE0F"+validationVersion+" </div>  "),U})()},get children(){return createComponent$1(Match,{get when(){return getConfig().clientMode==1},get children(){const U=_tmpl$6.cloneNode(!0);return createRenderEffect(()=>U.innerHTML=props.template.details.acronym),U}})}}),I),I.$$click=sidebarCollapse,insert(K,createComponent$1(For,{get each(){return sidebar$1.details},children:(U,j)=>createComponent$1(Show,{get when(){return U.level==0&&U.enable},get children(){const X=_tmpl$23.cloneNode(!0),te=X.firstChild,O=te.firstChild,Q=O.firstChild,ee=Q.firstChild;return O.$$click=H=>{var ie=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),ie.scrollTo({top:0,behavior:"smooth"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&sidebarCollapse(),writeResponse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:U.dataKey,label:U.label,index:JSON.parse(JSON.stringify(U.index)),position:j()}),50)},insert(O,()=>U.label,Q),insert(te,createComponent$1(For,{get each(){return sidebar$1.details},children:(H,ie)=>createComponent$1(Show,{get when(){return H.level==1&&U.index[1]==H.index[1]&&H.enable},get children(){const ae=_tmpl$24.cloneNode(!0),D=ae.firstChild,re=D.firstChild,le=re.firstChild,ce=le.firstChild;return re.$$click=ne=>{var ge=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),ge.scrollTo({top:0,behavior:"smooth"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&sidebarCollapse(),writeResponse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:H.dataKey,label:H.label,index:JSON.parse(JSON.stringify(H.index)),position:ie()}),50)},insert(re,()=>H.label,le),insert(D,createComponent$1(For,{get each(){return sidebar$1.details},children:(ne,ge)=>createComponent$1(Show,{get when(){return ne.level==2&&U.index[1]==H.index[1]&&H.index[1]==ne.index[1]&&H.index[3]==ne.index[3]&&H.index[4]==ne.index[4]&&ne.enable},get children(){const oe=_tmpl$25.cloneNode(!0),se=oe.firstChild,fe=se.firstChild,ue=fe.firstChild,he=ue.firstChild;return fe.$$click=de=>{var me=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),me.scrollTo({top:0,behavior:"smooth"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&sidebarCollapse(),writeResponse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:ne.dataKey,label:ne.label,index:JSON.parse(JSON.stringify(ne.index)),position:ge()}),50)},insert(fe,()=>ne.label,ue),insert(se,createComponent$1(For,{get each(){return sidebar$1.details},children:(de,me)=>createComponent$1(Show,{get when(){return de.level==3&&U.index[1]==H.index[1]&&H.index[1]==ne.index[1]&&H.index[3]==ne.index[3]&&ne.index[5]==de.index[5]&&ne.index[6]==de.index[6]&&de.enable},get children(){const pe=_tmpl$26.cloneNode(!0),$e=pe.firstChild,we=$e.firstChild,ye=we.firstChild,xe=ye.firstChild;return we.$$click=ve=>{var be=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),be.scrollTo({top:0,behavior:"smooth"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&sidebarCollapse(),writeResponse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:de.dataKey,label:de.label,index:JSON.parse(JSON.stringify(de.index)),position:me()}),50)},insert(we,()=>de.label,ye),createRenderEffect(ve=>{const be=U.index[1]===form.activeComponent.index[1],ke={"bg-blue-800 text-white":de.dataKey===form.activeComponent.dataKey},_e=de.description;return be!==ve._v$37&&pe.classList.toggle("show",ve._v$37=be),ve._v$38=classList(we,ke,ve._v$38),_e!==ve._v$39&&(xe.innerHTML=ve._v$39=_e),ve},{_v$37:void 0,_v$38:void 0,_v$39:void 0}),pe}})}),null),createRenderEffect(de=>{const me=U.index[1]===form.activeComponent.index[1],pe={"bg-blue-800 text-white":ne.dataKey===form.activeComponent.dataKey},$e=ne.description;return me!==de._v$34&&oe.classList.toggle("show",de._v$34=me),de._v$35=classList(fe,pe,de._v$35),$e!==de._v$36&&(he.innerHTML=de._v$36=$e),de},{_v$34:void 0,_v$35:void 0,_v$36:void 0}),oe}})}),null),createRenderEffect(ne=>{const ge=U.index[1]===form.activeComponent.index[1],oe={"bg-blue-800 text-white":H.dataKey===form.activeComponent.dataKey},se=H.description;return ge!==ne._v$31&&ae.classList.toggle("show",ne._v$31=ge),ne._v$32=classList(re,oe,ne._v$32),se!==ne._v$33&&(ce.innerHTML=ne._v$33=se),ne},{_v$31:void 0,_v$32:void 0,_v$33:void 0}),ae}})}),null),createRenderEffect(H=>{const ie={"bg-blue-800 text-white":U.dataKey===form.activeComponent.dataKey},ae=U.description;return H._v$29=classList(O,ie,H._v$29),ae!==H._v$30&&(ee.innerHTML=H._v$30=ae),H},{_v$29:void 0,_v$30:void 0}),X}})})),insert(z,()=>summary.answer,F),insert(F,()=>locale.details.language[0].summaryAnswer),J.$$click=showListBlank,insert(J,()=>summary.blank,W),insert(W,()=>locale.details.language[0].summaryBlank),Z.$$click=revalidateError,insert(Z,()=>summary.error,Y),insert(Y,()=>locale.details.language[0].summaryError),G.$$click=showListRemark,insert(G,()=>summary.remark,q),insert(q,()=>locale.details.language[0].summaryRemark),insert(P,createComponent$1(Switch,{get children(){return[createComponent$1(Match,{get when(){return memo(()=>summary.error==0,!0)()&&config().formMode==1},get children(){const U=_tmpl$7.cloneNode(!0);return U.$$click=confirmSubmit,U}}),createComponent$1(Match,{get when(){return memo(()=>summary.error>0,!0)()&&config().formMode<3},get children(){const U=_tmpl$8.cloneNode(!0);return U.$$click=revalidateError,U}})]}})),m}}),s),s.addEventListener("scroll",checkScrollTopWeb),insert(c,createComponent$1(Switch,{get children(){return createComponent$1(Match,{get when(){return getConfig().clientMode==2},get children(){const m=_tmpl$10.cloneNode(!0),L=m.firstChild,I=L.nextSibling,A=I.nextSibling,K=A.nextSibling;return K.nextSibling,insert(m,renderGear,I),insert(m,timeDiff,K),m}})}}),null),C.$$click=toggleSwitch,S.$$click=sidebarCollapse,insert(o,createComponent$1(Show,{get when(){return getProp("clientMode")==ClientMode.PAPI},get children(){const m=_tmpl$11.cloneNode(!0),L=m.firstChild;return insert(L,createComponent$1(For,{get each(){return sidebar$1.details},children:(I,A)=>createComponent$1(Show,{when:!0,get children(){const K=_tmpl$27.cloneNode(!0),V=K.firstChild;return V.$$click=B=>{var T=document.querySelector(".component-div");window.scrollTo({top:0,behavior:"smooth"}),T.scrollTo({top:0,behavior:"smooth"}),getConfig().clientMode===ClientMode.CAPI&&writeResponse(),setLoader({}),setTimeout(()=>setActiveComponent({dataKey:I.dataKey,label:I.label,index:JSON.parse(JSON.stringify(I.index)),position:A()}),50),refocusLastSelector()},insert(V,()=>I.label),createRenderEffect(B=>{const T={" border-b-4 border-blue-800":I.dataKey===form.activeComponent.dataKey},z={"bg-blue-800 text-white":I.dataKey===form.activeComponent.dataKey};return B._v$40=classList(K,T,B._v$40),B._v$41=classList(V,z,B._v$41),B},{_v$40:void 0,_v$41:void 0}),K}})})),m}}),null),insert(s,createComponent$1(FormComponent,{get onMobile(){return onMobile()},get components(){return components()},get dataKey(){return form.activeComponent.dataKey},index:[0],get config(){return getConfig()},get uploadHandler(){return props.uploadHandler},get GpsHandler(){return props.GpsHandler},get offlineSearch(){return props.offlineSearch},get onlineSearch(){return props.onlineSearch},get openMap(){return props.openMap},get setResponseMobile(){return props.setResponseMobile}}),g),x.$$click=previousPage,insert(E,()=>form.activeComponent.label),insert(d,createComponent$1(Switch,{get children(){return[createComponent$1(Match,{get when(){return sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length===0&&summary.error>0},get children(){const m=_tmpl$12.cloneNode(!0);return m.$$click=showListError,m}}),createComponent$1(Match,{get when(){return memo(()=>sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length===0&&summary.error==0,!0)()&&config().formMode==1},get children(){const m=_tmpl$13.cloneNode(!0);return m.$$click=confirmSubmit,m}}),createComponent$1(Match,{get when(){return sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length>0},get children(){const m=_tmpl$14.cloneNode(!0);return m.$$click=nextPage,createRenderEffect(()=>m.classList.toggle("visible",sidebar$1.details.filter((L,I)=>L.enable&&I>form.activeComponent.position).length>0)),m}})]}}),null),p.$$click=scrollToTop,y.$$click=previousPage,insert(b,()=>form.activeComponent.label),insert(k,createComponent$1(Switch,{get children(){return[createComponent$1(Match,{get when(){return sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length===0&&summary.error>0},get children(){const m=_tmpl$15.cloneNode(!0);return m.$$click=showListError,m}}),createComponent$1(Match,{get when(){return memo(()=>sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length===0&&summary.error==0,!0)()&&config().formMode==1},get children(){const m=_tmpl$16.cloneNode(!0);return m.$$click=confirmSubmit,m}}),createComponent$1(Match,{get when(){return sidebar$1.details.filter((m,L)=>m.enable&&L>form.activeComponent.position).length>0},get children(){const m=_tmpl$17.cloneNode(!0);return m.$$click=nextPage,m}})]}}),null),M.$$click=scrollToTop,insert($,createComponent$1(Show,{get when(){return config().formMode<3},get children(){const m=_tmpl$18.cloneNode(!0);return m.$$click=writeResponse,m}})),createRenderEffect(m=>{const L=getConfig().clientMode!==ClientMode.PAPI,I=getConfig().clientMode===ClientMode.PAPI,A=props.template.details.title,K=props.template.details.description,V=onMobile()===!1,B=onMobile()===!0,T=onMobile()===!1,z=onMobile()===!0,F=getConfig().clientMode<ClientMode.PAPI,J=getConfig().clientMode==ClientMode.PAPI,W=sidebar$1.details.filter((O,Q)=>O.enable&&Q<form.activeComponent.position).length===0,Z=sidebar$1.details.filter((O,Q)=>O.enable&&Q<form.activeComponent.position).length>0,Y=showScrollWeb()===!0,G=showScrollWeb()===!1,q=onMobile()===!0,P=onMobile()===!1,U=sidebar$1.details.filter((O,Q)=>O.enable&&Q<form.activeComponent.position).length===0,j=sidebar$1.details.filter((O,Q)=>O.enable&&Q<form.activeComponent.position).length>0,X=showScrollMobile()===!0,te=showScrollMobile()===!1;return L!==m._v$9&&o.classList.toggle("top-0",m._v$9=L),I!==m._v$10&&o.classList.toggle("-top-[121px]",m._v$10=I),A!==m._v$11&&(h.innerHTML=m._v$11=A),K!==m._v$12&&(u.innerHTML=m._v$12=K),V!==m._v$13&&u.classList.toggle("flex",m._v$13=V),B!==m._v$14&&u.classList.toggle("hidden",m._v$14=B),T!==m._v$15&&g.classList.toggle("flex",m._v$15=T),z!==m._v$16&&g.classList.toggle("hidden",m._v$16=z),F!==m._v$17&&g.classList.toggle("sticky",m._v$17=F),J!==m._v$18&&g.classList.toggle("absolute",m._v$18=J),W!==m._v$19&&x.classList.toggle("hidden",m._v$19=W),Z!==m._v$20&&x.classList.toggle("visible",m._v$20=Z),Y!==m._v$21&&w.classList.toggle("flex",m._v$21=Y),G!==m._v$22&&w.classList.toggle("hidden",m._v$22=G),q!==m._v$23&&_.classList.toggle("flex",m._v$23=q),P!==m._v$24&&_.classList.toggle("hidden",m._v$24=P),U!==m._v$25&&y.classList.toggle("hidden",m._v$25=U),j!==m._v$26&&y.classList.toggle("visible",m._v$26=j),X!==m._v$27&&v.classList.toggle("flex",m._v$27=X),te!==m._v$28&&v.classList.toggle("hidden",m._v$28=te),m},{_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0,_v$22:void 0,_v$23:void 0,_v$24:void 0,_v$25:void 0,_v$26:void 0,_v$27:void 0,_v$28:void 0}),e})()};delegateEvents(["click"]);const _tmpl$$1=template$1('<div class="backdrop-blur-sm overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex"><svg class="w-20 h-20 animate-spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 94.53 98.372"><circle cx="23.536" cy="16.331" r="8.646" style="fill:#0a77e8"></circle><circle cx="8.646" cy="36.698" r="8.646" style="fill:#0f9af0"></circle><circle cx="8.646" cy="61.867" r="8.646" style="fill:#0f9af0"></circle><circle cx="23.536" cy="82.233" r="8.646" style="fill:#13bdf7"></circle><circle cx="47.361" cy="89.726" r="8.646" style="fill:#13bdf7"></circle><circle cx="71.282" cy="82.233" r="8.646" style="fill:#18e0ff"></circle><circle cx="85.884" cy="61.867" r="8.646" style="fill:#65eaff"></circle><circle cx="85.884" cy="36.698" r="8.646" style="fill:#b2f5ff"></circle><circle cx="47.361" cy="8.646" r="8.646" style="fill:#1d4970"></circle></svg></div>');function FormLoader(e){let n=mergeProps({type:"success",autoHideDuration:70},e),a;return onMount(()=>{a=setTimeout(()=>n.remove(),n.autoHideDuration)}),onCleanup(()=>{clearTimeout(a)}),_tmpl$$1.cloneNode(!0)}const _tmpl$=template$1("<div></div>");function Loader(){const{loader:e}=useLoaderState(),{removeLoader:n}=useLoaderDispatch();return(()=>{const a=_tmpl$.cloneNode(!0);return insert(a,()=>e.map(l=>createComponent$1(FormLoader,{get remove(){return n(l.id)}}))),a})()}const[nested,setNested]=createStore({details:[]});var semverCompare=function e(n,a){for(var l=n.split("."),r=a.split("."),s=0;s<3;s++){var o=Number(l[s]),f=Number(r[s]);if(o>f)return 1;if(f>o)return-1;if(!isNaN(o)&&isNaN(f))return 1;if(isNaN(o)&&!isNaN(f))return-1}return 0};const dataKey$3="",media=[];var mediaJSON={dataKey:dataKey$3,media};const description$1="",dataKey$2="",predata=[];var presetJSON={description:description$1,dataKey:dataKey$2,predata};const details=[],sidebar=[];var referenceJSON={details,sidebar};const dataKey$1="",notes=[];var remarkJSON={dataKey:dataKey$1,notes};const description="",dataKey="",answers=[];var responseJSON={description,dataKey,answers};const gearVersion="1.1.1";let templateVersion="0.0.0",validationVersion="0.0.0";function FormGear(e,n,a,l,r,s,o,f,c,h,u,R,C,N,S,g){console.log("   _____               _____            "),console.log("  /  __/__  ______ _  / ___/__ ___ _____"),console.log(" /  _// _ \\/ __/  ' \\/ (_ / -_) _ `/ __/"),console.log("/__/  \\___/_/ /_/_/_/\\___/\\__/\\_,_/_/   %c@"+gearVersion," font-family:system-ui; font-weight: bold; color: #14b8a6;");let d=new Date,x={reference:e,template:n,preset:a,response:l,validation:r,media:s,remark:o},E=(w,p)=>{Object.keys(w).length==0&&toastInfo(p,5e3,"","bg-pink-600/80")};Object.keys(x).map(w=>{E(x[w],`Failed to fetch ${w} file`)});try{setTemplate({details:n}),setValidation({details:r}),Object.keys(a).length>0?setPreset({details:a}):setPreset({details:JSON.parse(JSON.stringify(presetJSON))}),Object.keys(l).length>0?setResponse({details:l}):setResponse({details:JSON.parse(JSON.stringify(responseJSON))}),Object.keys(s).length>0?setMedia({details:s}):setMedia({details:JSON.parse(JSON.stringify(mediaJSON))}),Object.keys(o).length>0?setRemark({details:o}):setRemark({details:JSON.parse(JSON.stringify(remarkJSON))}),Object.keys(l).length>0&&response.details.counter!==void 0&&setCounter(JSON.parse(JSON.stringify(response.details.counter[0])));const w=[],p=[],_=[],k=[],y=[],b=[];let v=[];const M=[];let $=template.details.components[0].length,m=counter.render;templateVersion=template.details.version!==void 0?template.details.version:"0.0.1",validationVersion=validation.details.version!==void 0?validation.details.version:"0.0.1";const L=template.details.version==null?1:semverCompare(gearVersion,response.details.gearVersion!==void 0?response.details.gearVersion:"0.0.0"),I=template.details.version==null?1:semverCompare(templateVersion,response.details.templateVersion!==void 0?response.details.templateVersion:"0.0.0"),A=validation.details.version==null?1:semverCompare(validationVersion,response.details.validationVersion!==void 0?response.details.validationVersion:"0.0.0");Object.keys(e).length>0?setReference(e):setReference(JSON.parse(JSON.stringify(referenceJSON)));const K=reference.sidebar.length,V=reference.details.length;let B=0;if(L==0&&I==0&&A==0&&V>0&&K>0)console.log("Reuse reference \u267B\uFE0F"),setReference(e),initReferenceMap(),setSidebar("details",e.sidebar),B=1,setCounter("render",m+=1),render(()=>createComponent$1(FormProvider,{get children(){return createComponent$1(FormLoaderProvider,{get children(){return[createComponent$1(Form,{config:f,timeStart:d,runAll:B,tmpEnableComp:p,tmpVarComp:w,template,preset,response,validation,remark,uploadHandler:c,GpsHandler:h,offlineSearch:u,onlineSearch:R,mobileExit:C,setResponseMobile:N,setSubmitMobile:S,openMap:g}),createComponent$1(Loader,{})]}})}}),document.getElementById("FormGear-root"));else{console.log("Build reference \u{1F680}");let T=[];const z=[],F=P=>{let U="";if(v.length>0){const j=v.findIndex(X=>X.dataKey===P);j!==-1&&v[j].answer&&v[j].enable&&(U=v[j].answer)}return U},J=(P,U,j,X)=>{let te=P.length;for(let O=0;O<te;O++){let Q=P[O].type;if(Q==2){let ee=[];P[O].components[0].forEach(H=>{let ie,ae,D=validation.details.testFunctions.findIndex(le=>le.dataKey===H.dataKey);D!==-1&&(ie=validation.details.testFunctions[D].validations,ae=validation.details.testFunctions[D].componentValidation);let re=[];re.push({dataKey:H.dataKey,label:H.label,hint:H.hint,description:H.description,type:H.type,answer:H.answer,index:H.index,level:H.level,options:H.options,typeOption:H.typeOption,sourceOption:H.sourceOption,sourceSelect:H.sourceSelect,components:H.components,rows:H.rows,cols:H.cols,sourceQuestion:H.sourceQuestion,urlValidation:H.urlValidation,currency:H.currency,source:H.source,urlPath:H.urlPath,parent:H.parent,separatorFormat:H.separatorFormat,isDecimal:H.isDecimal,maskingFormat:H.maskingFormat,expression:H.expression,componentVar:H.componentVar,render:H.render,renderType:H.renderType,enable:H.enable,enableCondition:H.enableCondition,componentEnable:H.componentEnable,enableRemark:H.enableRemark,client:H.client,titleModalDelete:H.titleModalDelete,contentModalDelete:H.contentModalDelete,validationState:H.validationState,validationMessage:H.validationMessage,validations:ie,componentValidation:ae,rangeInput:H.rangeInput!==void 0?H.rangeInput:void 0,lengthInput:H.lengthInput!==void 0?H.lengthInput:void 0,principal:H.principal!==void 0?H.principal:void 0,columnName:H.columnName!==void 0?H.columnName:"",titleModalConfirmation:H.titleModalConfirmation,contentModalConfirmation:H.contentModalConfirmation,required:H.required,presetMaster:H.presetMaster!==void 0?H.presetMaster:void 0,disableInput:H.disableInput!==void 0?H.disableInput:void 0,decimalLength:H.decimalLength!==void 0?H.decimalLength:void 0,disableInitial:H.disableInitial!==void 0?H.disableInitial:void 0}),ee?ee.push(re[0]):ee.splice(ee.length,0,re[0])}),z.push({dataKey:P[O].dataKey,description:P[O].description,label:P[O].label,sourceQuestion:P[O].sourceQuestion,type:Q,components:[ee]})}P[O].components&&P[O].components.forEach((ee,H)=>J(ee,H,j.concat(O,0),X+1))}},[W,Z]=createSignal([]),Y=(P,U)=>{for(let j=0;j<P.length;j++)k[j]=[],y[j]=[],_[j]=0,setTimeout(()=>{try{const X=(O,Q,ee,H,ie)=>{let ae=O.length;for(let D=0;D<ae;D++){if(O[D].type!=1&&O[D].type!=3){if(T.includes(O[D].dataKey))throw new Error("Duplicate dataKey on "+O[D].dataKey);T.push(O[D].dataKey)}let re=O[D].answer,le=O[D].type;le==21||le==22?re=JSON.parse(JSON.stringify(re)):le==4&&H<2&&re==null&&!ie&&w.push(JSON.parse(JSON.stringify(O[D])));let ce;if(le==2){let ue=nested.details.findIndex(he=>he.dataKey===O[D].dataKey);ce=ue!==-1?nested.details[ue].components:O[D].components?O[D].components:void 0}else ce=O[D].components?O[D].components:void 0;if(le==1||le==2&&ce.length>1){O[D].enableCondition!==void 0?(p.push(JSON.parse(JSON.stringify(O[D]))),ie=!1):ie=!0;let ue=y[j].length;y[j][ue]={dataKey:O[D].dataKey,name:O[D].name,label:O[D].label,description:O[D].description,level:H,index:ee.concat(D),components:ce,sourceQuestion:O[D].sourceQuestion!==void 0?O[D].sourceQuestion:"",enable:ie,enableCondition:O[D].enableCondition!==void 0?O[D].enableCondition:"",componentEnable:O[D].componentEnable!==void 0?O[D].componentEnable:[]}}if(le==2){let ue=M.length;M[ue]=new Array({dataKey:O[D].dataKey,name:O[D].name,label:O[D].label,description:O[D].description,level:H,index:ee.concat(D),components:ce,sourceQuestion:O[D].sourceQuestion!==void 0?O[D].sourceQuestion:"",enable:ie,enableCondition:O[D].enableCondition!==void 0?O[D].enableCondition:"",componentEnable:O[D].componentEnable!==void 0?O[D].componentEnable:[]})}le>2&&O[D].enableCondition!==void 0&&!ie&&p.push(JSON.parse(JSON.stringify(O[D])));let ne,ge,oe=validation.details.testFunctions.findIndex(ue=>ue.dataKey===O[D].dataKey);oe!==-1&&(ne=validation.details.testFunctions[oe].validations,ge=validation.details.testFunctions[oe].componentValidation);let se=!1;if(O[D].enableRemark===void 0||O[D].enableRemark!==void 0&&O[D].enableRemark){let ue=remark.details.notes.findIndex(he=>he.dataKey===O[D].dataKey);if(ue!==-1){let he=remark.details.notes[ue],de=JSON.parse(JSON.stringify(note.details.notes));de.push(he),se=!0,setNote("details","notes",de)}}let fe=k[j].length;k[j][fe]={dataKey:O[D].dataKey,name:O[D].name,label:O[D].label,hint:O[D].hint?O[D].hint:"",description:O[D].description!==void 0?O[D].description:void 0,type:O[D].type,answer:re,index:ee.concat(D),level:H,options:O[D].options?O[D].options:void 0,sourceQuestion:O[D].sourceQuestion!==void 0?O[D].sourceQuestion:void 0,urlValidation:O[D].urlValidation!==void 0?O[D].urlValidation:void 0,currency:O[D].currency!==void 0?O[D].currency:void 0,source:O[D].source!==void 0?O[D].source:void 0,urlPath:O[D].path!==void 0?O[D].path:void 0,parent:O[D].parent!==void 0?O[D].parent:void 0,separatorFormat:O[D].separatorFormat!==void 0?O[D].separatorFormat:void 0,isDecimal:O[D].isDecimal!==void 0?O[D].isDecimal:void 0,maskingFormat:O[D].maskingFormat!==void 0?O[D].maskingFormat:void 0,expression:O[D].expression?O[D].expression:void 0,componentVar:O[D].componentVar?O[D].componentVar:void 0,render:O[D].render?O[D].render:void 0,renderType:O[D].renderType?O[D].renderType:void 0,enable:!0,enableCondition:O[D].enableCondition!==void 0?O[D].enableCondition:"",componentEnable:O[D].componentEnable!==void 0?O[D].componentEnable:[],enableRemark:O[D].enableRemark!==void 0?O[D].enableRemark:!0,client:O[D].client!==void 0?O[D].client:void 0,titleModalDelete:O[D].titleModalDelete!==void 0?O[D].titleModalDelete:void 0,sourceOption:O[D].sourceOption!==void 0?O[D].sourceOption:void 0,sourceSelect:O[D].sourceSelect!==void 0?O[D].sourceSelect:void 0,typeOption:O[D].typeOption!==void 0?O[D].typeOption:void 0,contentModalDelete:O[D].contentModalDelete!==void 0?O[D].contentModalDelete:void 0,validationState:O[D].validationState!==void 0?O[D].validationState:0,validationMessage:O[D].validationMessage!==void 0?O[D].validationMessage:[],validations:ne,componentValidation:ge,hasRemark:se,rows:O[D].rows!==void 0&&O[D].rows[0]!==void 0?O[D].rows:void 0,cols:O[D].cols!==void 0&&O[D].cols[0]!==void 0?O[D].cols:void 0,rangeInput:O[D].rangeInput!==void 0&&O[D].rangeInput[0]!==void 0?O[D].rangeInput:void 0,lengthInput:O[D].lengthInput!==void 0&&O[D].lengthInput[0]!==void 0?O[D].lengthInput:void 0,principal:O[D].principal!==void 0?O[D].principal:void 0,columnName:O[D].columnName!==void 0?O[D].columnName:"",titleModalConfirmation:O[D].titleModalConfirmation!==void 0?O[D].titleModalConfirmation:void 0,contentModalConfirmation:O[D].contentModalConfirmation!==void 0?O[D].contentModalConfirmation:void 0,required:O[D].required!==void 0?O[D].required:void 0,presetMaster:O[D].presetMaster!==void 0?O[D].presetMaster:void 0,disableInput:O[D].disableInput!==void 0?O[D].disableInput:void 0,decimalLength:O[D].decimalLength!==void 0?O[D].decimalLength:void 0,disableInitial:O[D].disableInitial!==void 0?O[D].disableInitial:void 0},O[D].components&&O[D].components.forEach(ue=>X(ue,fe,ee.concat(D,0),H+1,ie))}};let te=!1;P[j].enableCondition!==void 0&&(p.push(JSON.parse(JSON.stringify(P[j]))),te=!0),y[j][0]={dataKey:P[j].dataKey,name:P[j].name,label:P[j].label,description:P[j].description,level:0,index:[0,j],components:P[j].components,sourceQuestion:P[j].sourceQuestion!==void 0?P[j].sourceQuestion:"",enable:!te,enableCondition:P[j].enableCondition!==void 0?P[j].enableCondition:"",componentEnable:P[j].componentEnable!==void 0?P[j].componentEnable:[]},k[j][0]={dataKey:P[j].dataKey,name:P[j].name,label:P[j].label,hint:P[j].hint?P[j].hint:"",description:P[j].description!==void 0?P[j].description:void 0,type:P[j].type,index:[0,j],level:0,options:P[j].options?P[j].options:void 0,sourceQuestion:P[j].sourceQuestion!==void 0?P[j].sourceQuestion:void 0,urlValidation:P[j].urlValidation!==void 0?P[j].urlValidation:void 0,currency:P[j].currency!==void 0?P[j].currency:void 0,source:P[j].source!==void 0?P[j].source:void 0,urlPath:P[j].path!==void 0?P[j].path:void 0,parent:P[j].parent!==void 0?P[j].parent:void 0,separatorFormat:P[j].separatorFormat!==void 0?P[j].separatorFormat:void 0,isDecimal:P[j].isDecimal!==void 0?P[j].isDecimal:void 0,typeOption:P[j].typeOption!==void 0?P[j].typeOption:void 0,sourceOption:P[j].sourceOption!==void 0?P[j].sourceOption:void 0,maskingFormat:P[j].maskingFormat!==void 0?P[j].maskingFormat:void 0,expression:P[j].expression?P[j].expression:void 0,componentVar:P[j].componentVar?P[j].componentVar:void 0,render:P[j].render?P[j].render:void 0,renderType:P[j].renderType?P[j].renderType:void 0,enable:!0,enableCondition:P[j].enableCondition!==void 0?P[j].enableCondition:"",componentEnable:P[j].componentEnable!==void 0?P[j].componentEnable:[],enableRemark:P[j].enableRemark!==void 0?P[j].enableRemark:!0,client:P[j].client!==void 0?P[j].client:void 0,titleModalDelete:P[j].titleModalDelete!==void 0?P[j].titleModalDelete:void 0,contentModalDelete:P[j].contentModalDelete!==void 0?P[j].contentModalDelete:void 0,validationState:P[j].validationState!==void 0?P[j].validationState:0,validationMessage:P[j].validationMessage!==void 0?P[j].validationMessage:[],rows:P[j].rows!==void 0&&P[j].rows[0]!==void 0?P[j].rows:void 0,cols:P[j].cols!==void 0&&P[j].cols[0]!==void 0?P[j].cols:void 0,rangeInput:P[j].rangeInput!==void 0&&P[j].rangeInput[0]!==void 0?P[j].rangeInput:void 0,lengthInput:P[j].lengthInput!==void 0&&P[j].lengthInput[0]!==void 0?P[j].lengthInput:void 0,principal:P[j].principal!==void 0?P[j].principal:void 0,columnName:P[j].columnName!==void 0?P[j].columnName:"",titleModalConfirmation:P[j].titleModalConfirmation!==void 0?P[j].titleModalConfirmation:void 0,contentModalConfirmation:P[j].contentModalConfirmation!==void 0?P[j].contentModalConfirmation:void 0,required:P[j].required!==void 0?P[j].required:void 0},X(P[j].components[0],0,[0,j,0],1,te),_[j]=1}catch(X){toastInfo(X.message,5e3,"","bg-pink-600/80")}},500)};template.details.components.forEach((P,U)=>Y(P,U)),B=0;let G=0;const q=setInterval(()=>{G=0;for(let P=0;P<$;P++)_[P]==1&&G++;if(G===$){let j=function(O,Q,ee){let H=v.findIndex(D=>D.dataKey==O),ie=[],ae=0;for(let D=Number(H)+1;D<=v.length&&(ee==v[D].level-1&&(v[D].type>2&&!P.includes(Number(D))&&(P.push(Number(D)),U[Number(D)]=v[D].dataKey),ie.push(v[D]),ae++),ae!=Q);D++);v[H].components=[JSON.parse(JSON.stringify(ie))]};clearInterval(q);for(let O=0;O<y.length;O++)for(let Q=0;Q<y[O].length;Q++)b.push(y[O][Q]);for(let O=0;O<k.length;O++)for(let Q=0;Q<k[O].length;Q++)v.push(k[O][Q]);let P=[],U=new Object;for(let O=M.length-1;O>=0;O--)j(M[O][0].dataKey,Number(M[O][0].components[0].length),M[O][0].level);let X=Object.keys(U),te=Object.keys(U).length;for(let O=te-1;O>=0;O--)v.splice(Number(X[O]),1);initReferenceMap(v),setReference("details",v),setSidebar("details",b),setCounter("render",m+=1),render(()=>createComponent$1(FormProvider,{get children(){return createComponent$1(FormLoaderProvider,{get children(){return[createComponent$1(Form,{config:f,timeStart:d,runAll:B,tmpEnableComp:p,tmpVarComp:w,template,preset,response,validation,remark,uploadHandler:c,GpsHandler:h,offlineSearch:u,onlineSearch:R,mobileExit:C,setResponseMobile:N,setSubmitMobile:S,openMap:g}),createComponent$1(Loader,{})]}})}}),document.getElementById("FormGear-root"))}},500)}}catch(w){console.log(w),toastInfo("Failed to render the questionnaire",5e3,"","bg-pink-600/80")}}exports.FormGear=FormGear,Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
